(this.webpackJsonpjotali=this.webpackJsonpjotali||[]).push([[0],{142:function(e,t,n){e.exports=n(195)},147:function(e,t,n){},176:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(20),o=n.n(l),c=(n(147),n(11)),i=n(21),u=n(3),s=n(9),p=n.n(s),m=n(14),f=n(15),d=n.n(f),b=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/users");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/user",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=n(7),O=n(8);function y(){var e=Object(j.a)(["\n    width: 100%;\n    a{\n        text-decoration: underline !important;\n    }\n"]);return y=function(){return e},e}function w(){var e=Object(j.a)(["\n    max-width: 930px;\n    margin: 0rem auto 0rem auto;\n"]);return w=function(){return e},e}var k=O.a.main(w()),S=O.a.div(y());function z(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return z=function(){return e},e}function x(){var e=Object(j.a)(["\n    border-bottom: 1px solid black;\n"]);return x=function(){return e},e}function I(){var e=Object(j.a)(["\n    padding-top: 1.8rem;\n    padding-right: 0.5rem;\n"]);return I=function(){return e},e}function P(){var e=Object(j.a)(["\n  border-right: 1px solid black;\n  margin-right: 1rem;\n  height: 100%;\n"]);return P=function(){return e},e}var C=O.a.div(P()),L=O.a.div(I()),_=O.a.span(x()),W=O.a.span(z()),B=n(120),T=n.n(B),M=n(121),D=n.n(M),F=n(115),A=n.n(F),N=n(122),Z=n.n(N),V=function(){var e=localStorage.getItem("blognellaLang");return(r.a.createElement(C,null,r.a.createElement(L,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/posts"},r.a.createElement(W,null,r.a.createElement(A.a,null),"en"===e?"POSTS":"WPISY")))),r.a.createElement(L,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/bookmarks"},r.a.createElement(W,null,r.a.createElement(T.a,null),"en"===e?"BOOKMARKS":"ZAK\u0141ADKI")))),r.a.createElement(L,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/users"},r.a.createElement(W,null,r.a.createElement(D.a,null),"en"===e?"USERS":"U\u017bYTKOWNICY")))),r.a.createElement(L,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/tags"},r.a.createElement(W,null,r.a.createElement(Z.a,null),"en"===e?"TAGS":"ETYKIETY"))))))};function U(){var e=Object(j.a)(["\n    display:flex;\n    height: 100%;\n    /* flex-direction: column; */\n    a{\n        text-decoration:none;\n    }\n    a:hover{\n        color: #00cccb;\n    }\n"]);return U=function(){return e},e}function R(){var e=Object(j.a)(["\n    display: flex;\n    min-height: 40rem;\n    background-color: #333333;\n    justify-content: space-between;\n    flex-grow: 1;\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n"]);return R=function(){return e},e}function H(){var e=Object(j.a)(["\n    width:20%;\n    border-left: 1px solid #404040;\n    display: flex;\n    flex-direction: column;\n    padding: 0rem 1rem;\n    color: #00cccb;\n"]);return H=function(){return e},e}function K(){var e=Object(j.a)(["\n    width: 100%;\n    background: #333333;\n"]);return K=function(){return e},e}function G(){var e=Object(j.a)(["\n    display:flex;\n    background-color:#222222;\n    flex-wrap: wrap;\n    border-top: 1px solid #404040;\n    border-bottom: 1px solid #404040;\n    border-left: 0 solid #404040;\n    border-right: 0 solid #404040;\n    margin: 0 10px;\n    padding: 10px 0;\n"]);return G=function(){return e},e}function J(){var e=Object(j.a)(["\n    display:flex;\n    justify-content: flex-end;\n    background: #333333;\n    align-items: flex-end;\n"]);return J=function(){return e},e}function Y(){var e=Object(j.a)(["\n    color: #ffffff;\n    padding: 1rem;\n    float: left;\n    padding-bottom: 0rem;\n    padding-top: 0.5rem;\n    border-left: 1px solid #404040;\n    border-right: 0 solid #404040;\n"]);return Y=function(){return e},e}function q(){var e=Object(j.a)(["\n    color: #ffffff;\n    padding: 1rem;\n    float: left;\n    padding-bottom: 0.5rem;\n    padding-top: 0.5rem;\n    border-left: 1px solid #404040;\n    border-right: 0 solid #404040;\n    height: fit-content;\n\n    &:hover{\n        color: #ffffff;\n        background-color: #000000;\n        text-decoration: none;\n    }\n\n    &>a:hover{\n        color: #ffffff;\n    }\n"]);return q=function(){return e},e}function Q(){var e=Object(j.a)(["\n    color: #ffffff;\n    padding: 1rem;\n    float: left;\n    padding-bottom: 0.5rem;\n    padding-top: 0.5rem;\n    border-left: 1px solid #404040;\n    border-right: 0 solid #404040;\n\n    a{\n        text-decoration: underline;\n    }\n\n    &:hover{\n        color: #ffffff;\n        background-color: #000000;\n        text-decoration: none;\n    }\n\n    &>a:hover{\n        color: #ffffff;\n        cursor: pointer;\n    }\n"]);return Q=function(){return e},e}function X(){var e=Object(j.a)(["\n    display: flex;\n"]);return X=function(){return e},e}function $(){var e=Object(j.a)(["\n    display:flex;\n    justify-content: space-between;\n    align-items: baseline;\n    background: #333333;\n"]);return $=function(){return e},e}function ee(){var e=Object(j.a)(["\n    font-family: Roboto;\n    font-size: 3.5rem;\n    padding: 22px 30px;\n"]);return ee=function(){return e},e}var te=O.a.div(ee()),ne=O.a.div($()),ae=O.a.div(X()),re=O.a.div(Q()),le=O.a.div(q()),oe=O.a.div(Y()),ce=O.a.div(J()),ie=O.a.div(G()),ue=O.a.div(K()),se=O.a.div(H()),pe=O.a.div(R()),me=O.a.div(U()),fe=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/bookmarks");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/bookmark/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/bookmark",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/bookmark/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/bookmark/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],o=localStorage.getItem("blognellaLang");0===n.length&&fe().then((function(e){var t=e.data.bookmarks;t.length!==n.length&&l(t)})).catch((function(e){return console.log(e)}));return r.a.createElement(ue,null,r.a.createElement(ie,null,r.a.createElement(re,null,r.a.createElement(c.b,{to:"/"},"en"===o?"Home":"G\u0142\xf3wna")),n.map((function(e){return r.a.createElement(re,{key:e._id},r.a.createElement(c.b,{to:e.post.length>0?"/ui/post/".concat(e.post[0]._id):"/"},e.title))}))||[]))},Ee=n(235),je=n(252);function Oe(){var e=Object(j.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        color: #dfdfdf;\n    }\n    button{\n        height: 30px;\n        margin-top: 25px;\n    }\n    \n    display: flex;\n    flex-direction: row;\n"]);return Oe=function(){return e},e}var ye=O.a.div(Oe()),we=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=localStorage.getItem("blognellaLang");return r.a.createElement(ye,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===c?"Search":"Wyszukaj",style:{margin:8},placeholder:"en"===c?"Type in tag or title here":"Wpisz etykiet\u0119 lub tytu\u0142",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return o(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(){e.history.push({pathname:"/search",state:{search:l}})}},"en"===c?"Search":"Wyszukaj"))})),ke=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),p=s[0],m=s[1],f=localStorage.getItem("blognellaLang");localStorage.getItem("blognellaId")&&g(localStorage.getItem("blognellaId")||"").then((function(e){var t=e.data.user;l||o(t.nick),p||m(t.role)})).catch((function(e){return console.log(e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null,r.a.createElement(oe,null,r.a.createElement(we,null)),Te.includes(e.pageName)&&"admin"===p?r.a.createElement(re,null,r.a.createElement(c.b,{to:"/panel/posts"},"Panel")):r.a.createElement(r.a.Fragment,null),l?r.a.createElement(re,{onClick:function(){localStorage.removeItem("blognellaId")}},r.a.createElement(c.b,{to:"/"},"en"===f?"Logout":"Wyloguj"," ",r.a.createElement("span",{style:{fontWeight:"bold"}},l))):r.a.createElement(le,null,r.a.createElement(c.b,{to:"/login"},"en"===f?"Login":"Zaloguj")),l?r.a.createElement(r.a.Fragment,null):r.a.createElement(le,null,r.a.createElement(c.b,{to:"/register"},"en"===f?"Register":"Zarejestruj")),r.a.createElement(re,{onClick:function(){"en"===(localStorage.getItem("blognellaLang")||"en")?localStorage.setItem("blognellaLang","pl"):localStorage.setItem("blognellaLang","en"),window.location.reload()}},r.a.createElement("a",null,localStorage.getItem("blognellaLang")||"en"))),r.a.createElement(ve,null))},Se=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null,r.a.createElement(te,null,"Blognella"),r.a.createElement(ae,null,r.a.createElement("div",null))),r.a.createElement(ke,e))},ze=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/posts");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/post/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/post",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=15;break}return console.log("dat"),console.log(e.t0.response),e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 15:if(409!==e.t0.response.status){e.next=19;break}return e.abrupt("return",{data:{},status:409});case 19:return e.abrupt("return",{data:{},status:500});case 20:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/post/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/post/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){var t=new Date(e.post.date).toDateString();return e.post.date>(new Date).toISOString()?r.a.createElement("div",null,"It will be avaiable soon - ",t):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.post.content[0].text}}))},_e=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],o=localStorage.getItem("blognellaLang");return Object(a.useEffect)((function(){0===n.length&&ze().then((function(e){var t=e.data.posts.filter((function(e){return"About"===e.content[0].title}));l(t)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(se,null,n.length>0?r.a.createElement(Le,{post:n[0]}):r.a.createElement("div",null,"en"===o?"There is no About post":"Brak wpisu o mnie"))};n(176);function We(){var e=Object(j.a)(["\n    /* display: flex; */\n    /* justify-content: space-between; */\n    margin: 0rem 1rem;\n    width:100%;\n"]);return We=function(){return e},e}var Be=O.a.div(We()),Te=["/register","/login/forget","/login","/ui/post/:id","/search","/"],Me=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1];Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("blognellaId")||"";e?g(e).then((function(e){var t=e.data.user;l!==t.role&&o(t.role)})).catch((function(e){return console.log(e)})):o("guest")}(),localStorage.getItem("blognellaLang")||localStorage.setItem("blognellaLang","en")}),[e]),"/login"===e.match.path&&localStorage.getItem("blognellaId")&&e.history.push("/"),!Te.includes(e.match.path)&&"admin"!==l&&l&&e.history.push("/");var c=e.page;return(r.a.createElement(k,null,r.a.createElement(Se,{pageName:e.match.path}),r.a.createElement(pe,null,r.a.createElement(Be,null,r.a.createElement(me,null,l&&r.a.createElement(r.a.Fragment,null,Te.includes(e.match.path)?r.a.createElement(r.a.Fragment,null):r.a.createElement(V,null),r.a.createElement(S,null,r.a.createElement(c,null))))),Te.includes(e.match.path)?r.a.createElement(_e,null):r.a.createElement(r.a.Fragment,null))))}));function De(){var e=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0rem 3rem;\n    .MuiButton-containedPrimary{\n      margin: 0 0.5rem;\n    }\n"]);return De=function(){return e},e}function Fe(){var e=Object(j.a)(["\n    display: flex;\n    flex-grow: 1;\n\n    .MuiInputBase-root{\n      color: #d8d8d8;\n    }\n\n    label{\n      color: white;\n    }\n"]);return Fe=function(){return e},e}function Ae(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #333333;\n  color: white;\n  border: 2px solid white;\n"]);return Ae=function(){return e},e}var Ne=O.a.div(Ae()),Ze=O.a.div(Fe()),Ve=O.a.div(De()),Ue=n(250),Re=n(83),He=n(46);function Ke(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(He.a)(t);case 3:return e.abrupt("return",[]);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Je,Ye,qe,Qe,Xe,$e,et,tt,nt,at=function(e){return"password"===e?"has\u0142o":"role"===e?"rola":"date"===e?"data":"tags"===e?"etykiety":"title"===e?"tytu\u0142":"content"===e?"tre\u015b\u0107":"comment"===e?"komentarz":"user"===e?"u\u017cytkownik":"post"===e?"wpis":"name"===e?"nazwa":"text"===e?"tekst":e},rt=function(e,t){var n=at(lt(e));return"isAlphanumeric"===t?"pole ".concat(n," musi zawiera\u0107 tylko litery i liczby"):"isNotEmpty"===t?"pole ".concat(n," nie jest dozwole puste"):"isString"===t?"pole ".concat(n," musi by\u0107 tekstem"):"notContains"===t?"pole ".concat(n," nie mo\u017ce zawiera\u0107 spacji"):"minLength"===t?"pole ".concat(n," musi zawiera\u0107 co najmniej wymagan\u0105 liczb\u0119 znak\xf3w"):"isEmail"===t?"pole ".concat(n," musi by\u0107 prawid\u0142owym emailem"):"isArray"===t?"pole ".concat(n," musi by\u0107 zbiorem etykiet"):"isDateString"===t?"pole ".concat(n," musi by\u0107 w poprawnym formacie daty"):""},lt=function(e){return e.replace(/ .*/,"")},ot=function(e,t){return Object.keys(e).map((function(n){return"isAlphanumeric"===n?"en"===t?e[n]:rt(e[n],n):"isNotEmpty"===n?"en"===t?e[n]:rt(e[n],n):"isString"===n?"en"===t?e[n]:rt(e[n],n):"notContains"===n?"en"===t?e[n]:rt(e[n],n):"minLength"===n?"en"===t?e[n]:rt(e[n],n):"isEmail"===n?"en"===t?e[n]:rt(e[n],n):"isArray"===n?"en"===t?e[n]:rt(e[n],n):"isDateString"===n?"en"===t?e[n]:rt(e[n],n):""}))},ct=function(e){return e.map((function(e){return r.a.createElement("div",{key:e},e)}))},it=function(e,t){return Object.keys(e).map((function(e){return"en"===t?"".concat(e," should be unique"):"pole ".concat(at(e)," musi byc unikalne")}))},ut=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),p=s[0],m=s[1],f=localStorage.getItem("blognellaLang"),d=Object(a.useState)(null),g=Object(u.a)(d,2),h=g[0],v=g[1],E=Object(a.useState)([]),j=Object(u.a)(E,2),O=j[0],y=j[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null,r.a.createElement(Ze,null,r.a.createElement(je.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===f?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return o(e.target.value)}})),r.a.createElement(Ze,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===f?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===f?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value)}})),r.a.createElement(Ve,null,r.a.createElement("div",null,"en"===f?"Forgot password? Click ":"Zapomnia\u0142es has\u0142a? Kliknij ",r.a.createElement(c.b,{to:"/login/forget"},"en"===f?"here":"tutaj")),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist(),b().then((function(n){var a=n.data.users.find((function(e){return e.login===l&&e.password===p}));a?(localStorage.setItem("blognellaId",a._id),e.history.push("/")):(y(["en"===f?"Invalid login or password":"Nieprawid\u0142owy login lub has\u0142o"]),v(t.target))})).catch((function(e){return console.log(e)}))}},"en"===f?"Login":"Zaloguj"),r.a.createElement(Ue.a,{id:Boolean(h)?"simple-popover":void 0,open:Boolean(h),anchorEl:h,onClose:function(){return v(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(O))))))})),st=function(){return r.a.createElement(ut,null)},pt=n(128),mt=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/comment",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/comment/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/comment/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),bt=n(22),gt=n(35),ht=n(23),vt=(n(64),n(255)),Et=n(237),jt=n(238),Ot=(Je=Object(vt.a)(),Ye=Object(Et.a)(),qe=Object(jt.a)(),Qe=Object(Et.a)(),Xe=Object(jt.a)(),$e=function e(t){Object(gt.a)(this,e),Object(bt.a)(this,"date",et,this),Object(bt.a)(this,"text",tt,this),Object(bt.a)(this,"user",nt,this),this.date=t.date,this.text=t.text,this.user=t.user},et=Object(ht.a)($e.prototype,"date",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=Object(ht.a)($e.prototype,"text",[Ye,qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=Object(ht.a)($e.prototype,"user",[Qe,Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e),yt=function(e,t){return Ke(new Ot(e)).then((function(e){return e.length>0?ot(e[0].constraints,t):[]}))};function wt(){var e=Object(j.a)(["\n    margin-left: 1rem;\n    color: #00cccb;\n    cursor: pointer;\n\n    &:hover{\n        color: white;\n    }\n\n    &:active{\n        color: #dfdfdf;\n    }\n"]);return wt=function(){return e},e}function kt(){var e=Object(j.a)(["\n    font-weight: bold;\n"]);return kt=function(){return e},e}function St(){var e=Object(j.a)(["\n    label{\n        color: white;\n        font-weight: bold;\n    }\n\n    .MuiInputBase-input{\n        color: #dfdfdf;\n    }\n"]);return St=function(){return e},e}var zt=O.a.div(St()),xt=O.a.span(kt()),It=O.a.span(wt()),Pt=Object(i.f)((function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(e.comment.text),i=Object(u.a)(c,2),s=i[0],p=i[1],m=localStorage.getItem("blognellaLang"),f=Object(a.useState)(null),d=Object(u.a)(f,2),b=d[0],g=d[1],h=Object(a.useState)([]),v=Object(u.a)(h,2),E=v[0],j=v[1],O="guest"!==e.role&&(e.comment.user===e.nick||"admin"===e.role);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(xt,null,e.comment.user," ")," ",new Date(e.comment.date).toDateString(),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(It,{onClick:function(){o(!l)}},"Edit"),r.a.createElement(It,{onClick:function(){e.updatePostToDeleteComment(e.comment._id),dt(e.comment._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Comment not deleted");window.location.reload()})).catch((function(e){return console.log(e)}))}},"Delete")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(zt,null,r.a.createElement(je.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"en"===m?"Please type in your comment here":"Prosz\u0119 wpisz komentarz",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!l},defaultValue:s,onChange:function(e){return p(e.target.value)}}),l?r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={_id:e.comment._id,date:e.comment.date,text:s,user:e.comment.user};yt(n,m).then((function(e){e.length>0?(j(e),g(t.target)):ft(n).then((function(e){var n=e.data,a=e.status;403!==a&&500!==a?(o(!l),window.location.reload()):403===a?(j(it(n,m)),g(t.target)):(j(["en"===m?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),g(t.target))}))}))}},"en"===m?"Save Comment":"Zapisz Komentarz"):r.a.createElement(r.a.Fragment,null),r.a.createElement(Ue.a,{id:Boolean(b)?"simple-popover":void 0,open:Boolean(b),anchorEl:b,onClose:function(){return g(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(E)))))})),Ct=function(e){var t=Object(a.useState)("Guest"),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)("guest"),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),d=f[0],b=f[1],h=localStorage.getItem("blognellaLang"),v=Object(a.useState)(null),E=Object(u.a)(v,2),j=E[0],O=E[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],S=w[1];Object(a.useEffect)((function(){var e=localStorage.getItem("blognellaId");e?function(e){g(e).then((function(e){var t=e.data.user;o(t.nick),p(t.role)})).catch((function(e){return console.log(e)}))}(e):(o("Guest"),p("guest"))}),[e]);var z=function(t){var n=e.post.comment.filter((function(e){return e!==t})),a={date:e.post.date,tags:e.post.tags,title:e.post.title,content:e.post.content[0]._id,_id:e.post._id,user:e.post.user,comment:n};Pe(a).then((function(e){if(200!==e.status)throw new Error("Error! Post not saved")})).catch((function(e){return console.log(e)}))};return r.a.createElement(r.a.Fragment,null,e.post.comment.length<1?r.a.createElement("div",null,"en"===h?"No comments":"Brak komentarzy"):e.post.comment.map((function(e){return r.a.createElement(Pt,{key:e._id,nick:l,role:s,comment:e,updatePostToDeleteComment:z})})),r.a.createElement(zt,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===h?"Add Comment":"Dodaj komentarz",style:{margin:8},placeholder:"en"===h?"Please type in your comment here":"Prosz\u0119 wpisz komentarz",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return b(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={text:d,date:(new Date).toISOString(),user:l};yt(n,h).then((function(a){a.length>0?(S(a),O(t.target)):mt(n).then((function(n){var a=n.data,r=n.status;if(403!==r&&500!==r){var l={date:e.post.date,tags:e.post.tags,title:e.post.title,content:e.post.content[0]._id,_id:e.post._id,user:e.post.user,comment:[].concat(Object(pt.a)(e.post.comment),[a.comment._id])};Pe(l).then((function(e){var n=e.data,a=e.status;403!==a&&500!==a?window.location.reload():403===a?(S(it(n,h)),O(t.target)):(S(["en"===h?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),O(t.target))}))}else 403===r?(S(it(a,h)),O(t.target)):(S(["en"===h?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),O(t.target))}))}))}},"en"===h?"Add Comment":"Dodaj Komentarz"),r.a.createElement(Ue.a,{id:Boolean(j)?"simple-popover":void 0,open:Boolean(j),anchorEl:j,onClose:function(){return O(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(k)))))},Lt=function(e){return r.a.createElement(c.b,{to:"/ui/post/".concat(e.post._id)},e.post.title)};function _t(){var e=Object(j.a)(["\n    width: 100%;\n    background-color: #303030;\n    padding: 0.2rem 0.75rem;\n    border-bottom: 2px solid #404040;\n    margin-top: 2rem;\n"]);return _t=function(){return e},e}function Wt(){var e=Object(j.a)(["\n    margin-bottom: 2rem;\n    font-size: 1.2rem;\n    font-weight: bold;\n"]);return Wt=function(){return e},e}function Bt(){var e=Object(j.a)(["\n    margin-bottom: 2rem;\n    font-size: 0.7rem;\n    font-weight: bold;\n"]);return Bt=function(){return e},e}function Tt(){var e=Object(j.a)(["\n    color: #00cccb;\n    font-size: 0.92rem;\n    font-style: oblique;\n    margin-bottom: 0.5rem;\n"]);return Tt=function(){return e},e}function Mt(){var e=Object(j.a)(["\n    margin-top: 0.5rem;\n    font-weight: bold;\n    color: #00cccb;\n"]);return Mt=function(){return e},e}function Dt(){var e=Object(j.a)(["\n    font-size: 1.6rem;\n    margin-top: 1rem;\n    \n"]);return Dt=function(){return e},e}function Ft(){var e=Object(j.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 3rem;\n"]);return Ft=function(){return e},e}function At(){var e=Object(j.a)(["\n    margin: 0.2rem 0;\n"]);return At=function(){return e},e}function Nt(){var e=Object(j.a)(["\n    font-size: 2rem;\n    font-weight: bold;\n    margin: 0.2rem 0;\n"]);return Nt=function(){return e},e}function Zt(){var e=Object(j.a)(["\n    font-size: 0.7rem;\n    font-weight: bold;\n"]);return Zt=function(){return e},e}var Vt=O.a.div(Zt()),Ut=O.a.div(Nt()),Rt=O.a.div(At()),Ht=O.a.div(Ft()),Kt=O.a.div(Dt()),Gt=O.a.div(Mt()),Jt=O.a.div(Tt()),Yt=O.a.div(Bt()),qt=O.a.span(Wt()),Qt=O.a.div(_t()),Xt=function(e){var t=localStorage.getItem("blognellaLang"),n=new Date(e.post.date).toLocaleDateString("en"===t?"en-GB":"pl-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.post.date>(new Date).toISOString()?r.a.createElement("div",null,"en"===t?"It will be avaiable soon - ":"Dost\u0119pne wkr\xf3tce - ",n):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt,null,n),r.a.createElement(Ut,null,e.post.title),r.a.createElement(Rt,{dangerouslySetInnerHTML:{__html:e.post.content[0].text}}),r.a.createElement(Ht,null,e.postChapters.length>0?r.a.createElement(Kt,null,"en"===t?"Chapters":"Rozdzia\u0142y"):r.a.createElement(r.a.Fragment,null),e.postChapters.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(Lt,{post:e}))}))),r.a.createElement(Qt,null,r.a.createElement(Jt,null,r.a.createElement(Gt,null,"en"===t?"Tags: ":"Etykiety: "),e.post.tags.map((function(e){return r.a.createElement("span",{key:e,style:{marginRight:"1.2rem"}},e)})))),r.a.createElement(Yt,null,"en"===t?"Added by ":"Dodane przez ",r.a.createElement(qt,null,e.post.user)),r.a.createElement(Qt,null,r.a.createElement(Ct,{post:e.post})))},$t=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],l=t[1];Object(a.useEffect)((function(){ze().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title})).reduce((function(e,t){return JSON.stringify(e)===JSON.stringify({})?t:e.date<t.date?t:e}),{});l(t)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,function(){var e=n||{content:[]};return e.content&&e.content.length>0}()?r.a.createElement(Xt,{post:n,postChapters:[]}):r.a.createElement(r.a.Fragment,null))},en=function(){return r.a.createElement($t,null)};function tn(){var e=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0rem 3rem;\n    .MuiButton-containedPrimary{\n      margin: 0 0.5rem;\n    }\n"]);return tn=function(){return e},e}function nn(){var e=Object(j.a)(["\n    display: flex;\n    flex-grow: 1;\n\n    label{\n      color: white;\n    }\n\n    .MuiInputBase-root{\n      color: #dfdfdf;\n    }\n"]);return nn=function(){return e},e}function an(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #333333;\n  color: white;\n  border: 2px solid white;\n"]);return an=function(){return e},e}var rn,ln,on,cn,un,sn,pn,mn,fn,dn,bn,gn,hn,vn,En,jn,On,yn,wn,kn,Sn,zn,xn,In,Pn,Cn=O.a.div(an()),Ln=O.a.div(nn()),_n=O.a.div(tn()),Wn=n(239),Bn=n(240),Tn=n(241),Mn=n(242),Dn=n(243);!function(e){e.GUEST="guest",e.LOOGED_USER="loggedUser",e.ADMIN="admin"}(Pn||(Pn={}));var Fn=(rn=Object(Wn.a)(),ln=Object(Et.a)(),on=Object(jt.a)(),cn=Object(Bn.a)(" "),un=Object(Wn.a)(),sn=Object(Et.a)(),pn=Object(jt.a)(),mn=Object(Bn.a)(" "),fn=Object(Tn.a)(2),dn=Object(Et.a)(),bn=Object(jt.a)(),gn=Object(Tn.a)(7),hn=Object(Bn.a)(" "),vn=Object(Mn.a)(Pn),En=Object(Dn.a)(),jn=Object(Bn.a)(" "),On=Object(jt.a)(),yn=Object(Et.a)(),wn=function e(t){Object(gt.a)(this,e),Object(bt.a)(this,"nick",kn,this),Object(bt.a)(this,"login",Sn,this),Object(bt.a)(this,"password",zn,this),Object(bt.a)(this,"role",xn,this),Object(bt.a)(this,"email",In,this),this.nick=t.nick,this.login=t.login,this.password=t.password,this.role=t.role,this.email=t.email},kn=Object(ht.a)(wn.prototype,"nick",[rn,ln,on,cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=Object(ht.a)(wn.prototype,"login",[un,sn,pn,mn,fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=Object(ht.a)(wn.prototype,"password",[dn,bn,gn,hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=Object(ht.a)(wn.prototype,"role",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Object(ht.a)(wn.prototype,"email",[En,jn,On,yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn),An=function(e,t){return Ke(new Fn(e)).then((function(e){return e.length>0?ot(e[0].constraints,t):[]}))},Nn=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),p=s[0],m=s[1],f=Object(a.useState)(""),d=Object(u.a)(f,2),b=d[0],g=d[1],v=Object(a.useState)(""),E=Object(u.a)(v,2),j=E[0],O=E[1],y=localStorage.getItem("blognellaLang"),w=Object(a.useState)(null),k=Object(u.a)(w,2),S=k[0],z=k[1],x=Object(a.useState)([]),I=Object(u.a)(x,2),P=I[0],C=I[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,null,r.a.createElement(Ln,null,r.a.createElement(je.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===y?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return o(e.target.value)}})),r.a.createElement(Ln,null,r.a.createElement(je.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===y?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value)}})),r.a.createElement(Ln,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===y?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===y?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return g(e.target.value)}})),r.a.createElement(Ln,null,r.a.createElement(je.a,{id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"en"===y?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return O(e.target.value)}})),r.a.createElement(_n,null,r.a.createElement("div",null,"en"===y?"Have already account? ":"Masz ju\u017c konto? ",r.a.createElement(c.b,{to:"/login"},"en"===y?"Login":"Zaloguj si\u0119")),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={nick:l,login:p,password:b,email:j,role:"loggedUser"};An(n,y).then((function(a){a.length>0?(C(a),z(t.target)):h(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/"):403===r?(C(it(a,y)),z(t.target)):(C(["en"===y?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),z(t.target))}))}))}},"en"===y?"Register":"Zarejestruj si\u0119"),r.a.createElement(Ue.a,{id:Boolean(S)?"simple-popover":void 0,open:Boolean(S),anchorEl:S,onClose:function(){return z(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(P))))))})),Zn=function(){return r.a.createElement(Nn,null)},Vn=n(199),Un=n(244),Rn=n(245),Hn=n(246),Kn=n(234),Gn=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/tags");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/tag",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Yn=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/tag/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),qn=n(42),Qn=n.n(qn);function Xn(){var e=Object(j.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        color: #dfdfdf;\n    }\n"]);return Xn=function(){return e},e}var $n,ea,ta,na,aa=O.a.div(Xn()),ra=($n=Object(Et.a)(),ea=Object(jt.a)(),ta=function e(t){Object(gt.a)(this,e),Object(bt.a)(this,"name",na,this),this.name=t.name},na=Object(ht.a)(ta.prototype,"name",[$n,ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta),la=function(e,t){return Ke(new ra(e)).then((function(e){return e.length>0?ot(e[0].constraints,t):[]}))},oa=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],p=i[1],m=localStorage.getItem("blognellaLang"),f=Object(a.useState)(null),d=Object(u.a)(f,2),b=d[0],g=d[1],h=Object(a.useState)([]),v=Object(u.a)(h,2),E=v[0],j=v[1],O=function(){Gn().then((function(e){var t=e.data.tags;return p(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){O()}),[]);return r.a.createElement(aa,null,r.a.createElement(Kn.a,null,s.map((function(e){return r.a.createElement(Vn.a,{key:e.name},r.a.createElement(Un.a,{primary:e.name}),r.a.createElement(Rn.a,null,r.a.createElement(Hn.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){Yn(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Tag not deleted");O()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Qn.a,null))))}))),r.a.createElement("div",null,r.a.createElement(je.a,{label:"en"===m?"Tag":"Etykieta",style:{margin:8},placeholder:"en"===m?"Please type in your tag here":"Prosz\u0119 wpisz etykiet\u0119",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return o(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist(),la({name:l},m).then((function(n){n.length>0?(j(n),g(t.target)):Jn({name:l}).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?(O(),e.history.push("/panel/tags")):403===r?(j(it(a,m)),g(t.target)):(j(["en"===m?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),g(t.target))}))}))}},"en"===m?"Add Tag":"Dodaj etykiet\u0119"),r.a.createElement(Ue.a,{id:Boolean(b)?"simple-popover":void 0,open:Boolean(b),anchorEl:b,onClose:function(){return g(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(E)))))})),ca=function(){return r.a.createElement(oa,null)},ia=n(251),ua=n(247);function sa(){var e=Object(j.a)(["\n    .MuiInputBase-root{\n        color: white;\n      }\n    "]);return sa=function(){return e},e}var pa=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],p=i[1],m=function(){ze().then((function(e){return function(e){var t=e.filter((function(e){return"Main"===e.content[0].title})).map((function(e){return e.title}));o(t)}(e.data.posts)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){m()}),[]),Object(a.useEffect)((function(){""===s&&e.storyTitle&&p(e.storyTitle)}),[e.storyTitle]);var f=O.a.div(sa());return r.a.createElement(f,null,r.a.createElement(ia.a,{value:s,onChange:function(t){p(t.target.value),e.setPostTitle(t.target.value)}},l.map((function(e){return r.a.createElement(ua.a,{key:e,value:e},e)}))))},ma=n(82),fa=n(249),da=n(56),ba=n(232),ga=n(254),ha=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/content",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/content/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ea=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/content/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ja=n(81),Oa=n.n(ja);function ya(){var e=Object(j.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        color: #dfdfdf;\n    }\n    input{\n        color: white;\n    }\n"]);return ya=function(){return e},e}var wa,ka,Sa,za,xa,Ia,Pa,Ca,La,_a,Wa,Ba=O.a.div(ya()),Ta=n(248),Ma=(wa=Object(vt.a)(),ka=Object(Ta.a)(),Sa=Object(Et.a)(),za=Object(jt.a)(),xa=Object(Et.a)(),Ia=Object(jt.a)(),Pa=function e(t){Object(gt.a)(this,e),Object(bt.a)(this,"date",Ca,this),Object(bt.a)(this,"tags",La,this),Object(bt.a)(this,"title",_a,this),this.content=void 0,this.comment=void 0,Object(bt.a)(this,"user",Wa,this),this.date=t.date,this.tags=t.tags,this.title=t.title,this.content=t.content,this.comment=t.comment,this.user=t.user},Ca=Object(ht.a)(Pa.prototype,"date",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),La=Object(ht.a)(Pa.prototype,"tags",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a=Object(ht.a)(Pa.prototype,"title",[Sa,za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wa=Object(ht.a)(Pa.prototype,"user",[xa,Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pa),Da=function(e,t){return Ke(new Ma(e)).then((function(e){return e.length>0?(console.log(e),ot(e[0].constraints,t)):[]}))},Fa=Object(fa.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Aa={PaperProps:{style:{maxHeight:224,width:250}}};function Na(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var Za=Object(i.f)((function(e){var t=Fa(),n=Object(da.a)(),l=Object(a.useState)("<p>...</p>"),o=Object(u.a)(l,2),c=o[0],i=o[1],s=Object(a.useState)(""),p=Object(u.a)(s,2),m=p[0],f=p[1],d=Object(a.useState)([]),b=Object(u.a)(d,2),h=b[0],v=b[1],E=Object(a.useState)(void 0),j=Object(u.a)(E,2),O=j[0],y=j[1],w=Object(a.useState)([]),k=Object(u.a)(w,2),S=k[0],z=k[1],x=Object(a.useState)(new Date),I=Object(u.a)(x,2),P=I[0],C=I[1],L=Object(a.useState)(""),_=Object(u.a)(L,2),W=_[0],B=_[1],T=localStorage.getItem("blognellaLang"),M=Object(a.useState)(null),D=Object(u.a)(M,2),F=D[0],A=D[1],N=Object(a.useState)([]),Z=Object(u.a)(N,2),V=Z[0],U=Z[1];Object(a.useEffect)((function(){O&&(R(),y(void 0))}),[O]);Object(a.useEffect)((function(){Gn().then((function(e){var t=e.data.tags;return z(t.map((function(e){return e.name})))})).catch((function(e){return console.log(e)})),function(){var e=localStorage.getItem("blognellaId");e&&g(e).then((function(e){var t=e.data.user;B(t.nick)})).catch((function(e){return console.log(e)}))}()}),[]);var R=function(){var t={date:P.toISOString(),tags:h,title:m,content:O,user:W};Da(t,T).then((function(n){n.length>0?(U(n),Ea(O||"")):Ie(t).then((function(t){var n=t.data,a=t.status;403!==a&&409!==a&&500!==a?e.history.push("/panel/posts"):403===a?(U(it(n,T)),Ea(O||"")):409===a?(U(["en"===T?"Only one post of type 'About' is allowed":"Tylko jeden wpis typu 'O mnie' jest dozwolony"]),Ea(O||"")):(U(["en"===T?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),Ea(O||""))}))}))};return r.a.createElement(Ba,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===T?"Title":"Tytu\u0142",style:{margin:8},placeholder:"en"===T?"Please type in your post title here":"Prosz\u0119 wpisz tytu\u0142 wpisu",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return f(e.target.value)}}),r.a.createElement(ma.a,{initialValue:c,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code"},onChange:function(e){return function(e){i(e.target.getContent())}(e)}}),r.a.createElement(je.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===T?"Please type in your nick here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:W,onChange:function(e){return B(e.target.value)}}),r.a.createElement("div",null,"en"===T?"Date of publication":"Data publikacji"),r.a.createElement(Oa.a,{onChange:function(e){return C(e)},value:P}),r.a.createElement("div",null,"en"===T?"Add tags to post":"Dodaj etykiety do wpisu"),r.a.createElement(ia.a,{labelId:"demo-mutiple-chip-label",multiple:!0,value:h,onChange:function(e){v(e.target.value)},input:r.a.createElement(ba.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(ga.a,{key:e,label:e,className:t.chip})})))},MenuProps:Aa},S.map((function(e){return r.a.createElement(ua.a,{key:e,value:e,style:Na(e,h,n)},e)}))),r.a.createElement("div",null),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={text:c,title:e.contentTitle};ha(n).then((function(e){var n=e.status,a=e.data;if(201!==n)throw new Error("Error! Content not saved");y(a.content._id),A(t.target)}))}},"en"===T?"Save Post":"Zapisz Wpis"),r.a.createElement(Ue.a,{id:Boolean(F)?"simple-popover":void 0,open:Boolean(F),anchorEl:F,onClose:function(){A(null),U([])},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(V))))}));function Va(){var e=Object(j.a)(["\n    .MuiInputBase-root{\n        color: white;\n      }\n    "]);return Va=function(){return e},e}var Ua=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(""),c=Object(u.a)(o,2),i=c[0],s=c[1],p=localStorage.getItem("blognellaLang"),m=O.a.div(Va());return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null,r.a.createElement(ia.a,{value:n,onChange:function(e){l(e.target.value)}},r.a.createElement(ua.a,{value:"Main"},"en"===p?"Main":"Wpis"),r.a.createElement(ua.a,{value:"Chapter"},"en"===p?"Chapter":"Rozdzia\u0142"),r.a.createElement(ua.a,{value:"About"},"en"===p?"About":"O mnie"))),r.a.createElement("div",null),"Chapter"===n?r.a.createElement(pa,{setPostTitle:s}):r.a.createElement(r.a.Fragment,null),"Main"===n||"About"===n||i?r.a.createElement(Za,{contentTitle:i||n}):r.a.createElement(r.a.Fragment,null))},Ra=Object(i.f)((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],o=n[1],i=localStorage.getItem("blognellaLang"),s=function(){ze().then((function(e){var t=e.data.posts;return o(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){s()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,null,l.map((function(e){return r.a.createElement(Vn.a,{key:e._id},r.a.createElement(Un.a,{primary:r.a.createElement(c.b,{to:{pathname:"/panel/posts/".concat(e._id),state:{myId:e._id}}}," ",e.title," ")}),r.a.createElement(Rn.a,null,r.a.createElement(Hn.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){Ce(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Post not deleted");s()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Qn.a,null))))}))),r.a.createElement(c.b,{to:"/panel/posts/add"},"en"===i?"Add Post":"Dodaj Wpis"))})),Ha=function(){return r.a.createElement(Ra,null)},Ka=Object(fa.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Ga={PaperProps:{style:{maxHeight:224,width:250}}};function Ja(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var Ya,qa,Qa,Xa,$a=Object(i.f)((function(e){var t=Ka(),n=Object(da.a)(),l=Object(a.useState)(e.post.content[0].text||""),o=Object(u.a)(l,2),c=o[0],i=o[1],s=Object(a.useState)(e.post.title||""),p=Object(u.a)(s,2),m=p[0],f=p[1],d=Object(a.useState)(e.post.tags||[]),b=Object(u.a)(d,2),g=b[0],h=b[1],v=Object(a.useState)([]),E=Object(u.a)(v,2),j=E[0],O=E[1],y=Object(a.useState)(new Date),w=Object(u.a)(y,2),k=w[0],S=w[1],z=Object(a.useState)(e.post.user),x=Object(u.a)(z,2),I=x[0],P=x[1],C=localStorage.getItem("blognellaLang"),L=Object(a.useState)(null),_=Object(u.a)(L,2),W=_[0],B=_[1],T=Object(a.useState)([]),M=Object(u.a)(T,2),D=M[0],F=M[1];Object(a.useEffect)((function(){Gn().then((function(e){var t=e.data.tags;return O(t.map((function(e){return e.name})))})).catch((function(e){return console.log(e)}))}),[]);var A=function(){var t={date:k.toISOString(),tags:g,title:m,content:e.post.content[0]._id,_id:e.post._id,user:I};Da(t,C).then((function(n){n.length>0?F(n):Pe(t).then((function(t){var n=t.data,a=t.status;403!==a&&500!==a?e.history.push("/panel/posts"):F(403===a?it(n,C):["en"===C?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"])}))}))};return r.a.createElement(Ba,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===C?"Title":"Tytu\u0142",style:{margin:8},placeholder:"en"===C?"Please type in your post title here":"Prosz\u0119 wpisz tytu\u0142 wpisu",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:m,onChange:function(e){return f(e.target.value)}}),r.a.createElement(ma.a,{initialValue:c,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code"},onChange:function(e){return function(e){i(e.target.getContent())}(e)}}),r.a.createElement(je.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===C?"Please type in your nick here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:I,onChange:function(e){return P(e.target.value)}}),r.a.createElement("div",null,"en"===C?"Date of publication":"Data publikacji"),r.a.createElement(Oa.a,{onChange:function(e){return S(e)},value:k}),r.a.createElement("div",null,"en"===C?"Add tags to post":"Dodaj etykiety do wpisu"),r.a.createElement(ia.a,{labelId:"demo-mutiple-chip-label",multiple:!0,value:g,onChange:function(e){h(e.target.value)},input:r.a.createElement(ba.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(ga.a,{key:e,label:e,className:t.chip})})))},MenuProps:Ga},j.map((function(e){return r.a.createElement(ua.a,{key:e,value:e,style:Ja(e,g,n)},e)}))),r.a.createElement("div",null),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={text:c,title:e.contentTitle,_id:e.post.content[0]._id};va(n).then((function(e){if(200!==e.status)throw new Error("Error! Content not saved");B(t.target),A()}))}},"en"===C?"Save Post":"Zapisz post"),r.a.createElement(Ue.a,{id:Boolean(W)?"simple-popover":void 0,open:Boolean(W),anchorEl:W,onClose:function(){B(null),F([])},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(D))))})),er=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(),f=Object(u.a)(m,2),d=f[0],b=f[1],g=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){xe(e.match.params.id).then((function(e){var t=e.data.post,n=t.content[0].title,a="Main"===n||"About"===n?n:"Chapter";o(a),"Chapter"===a&&p(n),b(t)})).catch((function(e){return console.log(e)}))}),[]);var h="Main"===l||"About"===l?l:s;return(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Main"===l?"en"===g?"STORY":"WPIS":"About"===l?"en"===g?"ABOUT":"O MNIE":"en"===g?"CHAPTER":"ROZDZIA\u0141"),"Chapter"===l?r.a.createElement(pa,{storyTitle:s,setPostTitle:p}):r.a.createElement(r.a.Fragment,null),("Main"===l||"About"===l||s)&&d?r.a.createElement($a,{contentTitle:h,post:d}):r.a.createElement(r.a.Fragment,null)))})),tr=Object(i.f)((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],o=n[1],i=localStorage.getItem("blognellaLang"),s=function(){fe().then((function(e){var t=e.data.bookmarks;return o(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){s()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,null,l.map((function(e){return r.a.createElement(Vn.a,{key:e.title},r.a.createElement(Un.a,{primary:r.a.createElement(c.b,{to:{pathname:"/panel/bookmarks/".concat(e._id),state:{myId:e._id}}}," ",e.title," ")}),r.a.createElement(Rn.a,null,r.a.createElement(Hn.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){he(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Bookmark not deleted");s()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Qn.a,null))))}))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/panel/bookmarks/add"},"en"===i?"Add Bookmark":"Dodaj Zak\u0142adk\u0119")))})),nr=function(){return r.a.createElement(tr,null)},ar=(Ya=Object(Et.a)(),qa=Object(jt.a)(),Qa=function e(t){Object(gt.a)(this,e),Object(bt.a)(this,"title",Xa,this),this.post=void 0,this.title=t.title},Xa=Object(ht.a)(Qa.prototype,"title",[Ya,qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qa),rr=function(e,t){return Ke(new ar(e)).then((function(e){return e.length>0?ot(e[0].constraints,t):[]}))};function lr(){var e=Object(j.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        color: #dfdfdf;\n    }\n    input{\n        color: white;\n    }\n"]);return lr=function(){return e},e}var or=O.a.div(lr());function cr(){var e=Object(j.a)(["\n    .MuiInputBase-root{\n        color: white;\n      }\n    "]);return cr=function(){return e},e}var ir=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),d=f[0],b=f[1],g=localStorage.getItem("blognellaLang"),h=Object(a.useState)(null),v=Object(u.a)(h,2),E=v[0],j=v[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],S=w[1];Object(a.useEffect)((function(){ze().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title}));p(t)})).catch((function(e){return console.log(e)}))}),[]);var z=O.a.div(cr());return r.a.createElement(or,null,r.a.createElement(z,null,r.a.createElement(ia.a,{value:l,onChange:function(e){o(e.target.value)}},s.map((function(e){return r.a.createElement(ua.a,{key:e._id,value:e._id},e.title)})))),r.a.createElement("div",null),r.a.createElement(je.a,{label:"en"===g?"Bookmark title":"Tytu\u0142 zak\u0142adki",style:{margin:8},placeholder:"en"===g?"Please type in your bookmark title here":"Prosz\u0119 wpisz tytu\u0142 zak\u0142adki",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return b(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={title:d,post:l};rr(n,g).then((function(a){a.length>0?(S(a),j(t.target)):be(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/bookmarks"):403===r?(S(it(a,g)),j(t.target)):(S(["en"===g?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),j(t.target))}))}))}},"en"===g?"Save Bookmark":"Zapisz Zak\u0142adk\u0119"),r.a.createElement(Ue.a,{id:Boolean(E)?"simple-popover":void 0,open:Boolean(E),anchorEl:E,onClose:function(){return j(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(k))))})),ur=function(){return r.a.createElement(ir,null)},sr=Object(i.f)((function(e){var t=Object(a.useState)(e.bookmark.post.length>0?e.bookmark.post[0]._id:""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(e.bookmark.title||""),f=Object(u.a)(m,2),d=f[0],b=f[1],g=localStorage.getItem("blognellaLang"),h=Object(a.useState)(null),v=Object(u.a)(h,2),E=v[0],j=v[1],O=Object(a.useState)([]),y=Object(u.a)(O,2),w=y[0],k=y[1];Object(a.useEffect)((function(){ze().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title}));p(t)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(or,null,r.a.createElement(ia.a,{value:l,onChange:function(e){o(e.target.value)}},s.map((function(e){return r.a.createElement(ua.a,{key:e._id,value:e._id},e.title)}))),r.a.createElement("div",null),r.a.createElement(je.a,{label:"en"===g?"Bookmark title":"Tytu\u0142 zakladki",style:{margin:8},placeholder:"en"===g?"Please type in your bookmark title here":"Prosz\u0119 wpisz tytu\u0142 zak\u0142adki",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return b(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={_id:e.bookmark._id,title:d,post:l};rr(n,g).then((function(a){a.length>0?(k(a),j(t.target)):ge(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/bookmarks"):403===r?(k(it(a,g)),j(t.target)):(k(["en"===g?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),j(t.target))}))}))}},"en"===g?"Save Bookmark":"Zapisz Zak\u0142adk\u0119"),r.a.createElement(Ue.a,{id:Boolean(E)?"simple-popover":void 0,open:Boolean(E),anchorEl:E,onClose:function(){return j(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(w))))})),pr=Object(i.f)((function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),l=n[0],o=n[1];return Object(a.useEffect)((function(){de(e.match.params.id).then((function(e){var t=e.data.bookmark;o(t)})).catch((function(e){return console.log(e)}))}),[]),l?r.a.createElement(sr,{bookmark:l}):r.a.createElement(r.a.Fragment,null)})),mr=Object(i.f)((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],o=n[1],i=localStorage.getItem("blognellaLang"),s=Object(a.useState)(""),p=Object(u.a)(s,2),m=p[0],f=p[1],d=function(){b().then((function(e){var t=e.data.users;return o(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){!function(){if(l.length>0){var e=localStorage.getItem("blognellaId"),t=l.find((function(t){return t._id===e}));t&&f(t.nick||"")}}()}),[l]),Object(a.useEffect)((function(){d()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,null,l.map((function(e){return r.a.createElement(Vn.a,{key:e.nick},r.a.createElement(Un.a,{primary:r.a.createElement(c.b,{to:{pathname:"/panel/users/".concat(e._id),state:{myId:e._id}}}," ",e.nick," ")}),r.a.createElement(Rn.a,null,e.nick!==m?r.a.createElement(Hn.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){E(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! User not deleted");d()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Qn.a,null)):r.a.createElement("div",null)))}))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/panel/users/add"},"en"===i?"Add User":"Dodaj u\u017cytkownika")))})),fr=function(){return r.a.createElement(mr,null)};function dr(){var e=Object(j.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        color: #dfdfdf;\n    }\n    input{\n        color: white;\n    }\n"]);return dr=function(){return e},e}var br=O.a.div(dr()),gr=["loggedUser","admin"],hr=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),d=f[0],b=f[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),E=v[0],j=v[1],O=Object(a.useState)(""),y=Object(u.a)(O,2),w=y[0],k=y[1],S=localStorage.getItem("blognellaLang"),z=Object(a.useState)(null),x=Object(u.a)(z,2),I=x[0],P=x[1],C=Object(a.useState)([]),L=Object(u.a)(C,2),_=L[0],W=L[1];return r.a.createElement(br,null,r.a.createElement(je.a,{label:"Nick",style:{margin:8},placeholder:"en"===S?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return o(e.target.value)}}),r.a.createElement(je.a,{label:"Login",style:{margin:8},placeholder:"en"===S?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)}}),r.a.createElement(je.a,{label:"en"===S?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===S?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return b(e.target.value)}}),r.a.createElement(ia.a,{value:E,onChange:function(e){j(e.target.value)}},gr.map((function(e){return r.a.createElement(ua.a,{key:e,value:e},e)}))),r.a.createElement("div",null),r.a.createElement(je.a,{label:"Email",style:{margin:8},placeholder:"en"===S?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return k(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={nick:l,login:s,password:d,role:E,email:w};An(n,S).then((function(a){a.length>0?(W(a),P(t.target)):h(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/users"):403===r?(W(it(a,S)),P(t.target)):(W(["en"===S?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),P(t.target))}))}))}},"en"===S?"Save User":"Zapisz U\u017cytkownika"),r.a.createElement(Ue.a,{id:Boolean(I)?"simple-popover":void 0,open:Boolean(I),anchorEl:I,onClose:function(){return P(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(_))))})),vr=function(){return r.a.createElement(hr,null)},Er=["loggedUser","admin"],jr=Object(i.f)((function(e){var t=Object(a.useState)(e.user.nick),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(e.user.login),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(e.user.password),f=Object(u.a)(m,2),d=f[0],b=f[1],g=Object(a.useState)(e.user.role),h=Object(u.a)(g,2),E=h[0],j=h[1],O=Object(a.useState)(e.user.email),y=Object(u.a)(O,2),w=y[0],k=y[1],S=localStorage.getItem("blognellaLang"),z=Object(a.useState)(null),x=Object(u.a)(z,2),I=x[0],P=x[1],C=Object(a.useState)([]),L=Object(u.a)(C,2),_=L[0],W=L[1];return r.a.createElement(br,null,r.a.createElement(je.a,{label:"Nick",style:{margin:8},placeholder:"en"===S?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:l,onChange:function(e){return o(e.target.value)}}),r.a.createElement(je.a,{label:"Login",style:{margin:8},placeholder:"en"===S?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:s,onChange:function(e){return p(e.target.value)}}),r.a.createElement(je.a,{label:"en"===S?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===S?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return b(e.target.value)}}),r.a.createElement(ia.a,{value:E,onChange:function(e){j(e.target.value)}},Er.map((function(e){return r.a.createElement(ua.a,{key:e,value:e},e)}))),r.a.createElement("div",null),r.a.createElement(je.a,{label:"Email",style:{margin:8},placeholder:"en"===S?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:w,onChange:function(e){return k(e.target.value)}}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={_id:e.user._id,nick:l,login:s,password:d,role:E,email:w};An(n,S).then((function(a){a.length>0?(W(a),P(t.target)):v(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/users"):403===r?(W(it(a,S)),P(t.target)):(W(["en"===S?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),P(t.target))}))}))}},"en"===S?"Save User":"Zapisz U\u017cytkownika"),r.a.createElement(Ue.a,{id:Boolean(I)?"simple-popover":void 0,open:Boolean(I),anchorEl:I,onClose:function(){return P(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(_))))})),Or=Object(i.f)((function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),l=n[0],o=n[1];return Object(a.useEffect)((function(){g(e.match.params.id).then((function(e){var t=e.data.user;o(t)})).catch((function(e){return console.log(e)}))}),[]),l?r.a.createElement(jr,{user:l}):r.a.createElement(r.a.Fragment,null)})),yr=Object(i.f)((function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],p=i[1],m=function(e){ze().then((function(t){var n=t.data.posts.filter((function(t){return t.content[0].title===e}));p(n||[])})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){xe(e.match.params.id).then((function(e){var t=e.data.post;JSON.stringify(t)!==JSON.stringify({})&&(o(t),m(t.title))})).catch((function(e){return console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,l?r.a.createElement(Xt,{post:l,postChapters:s}):r.a.createElement(r.a.Fragment,null))})),wr=function(){return r.a.createElement(yr,null)},kr=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],p=i[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),d=f[0],g=f[1],h=localStorage.getItem("blognellaLang"),E=Object(a.useState)(null),j=Object(u.a)(E,2),O=j[0],y=j[1],w=Object(a.useState)([]),k=Object(u.a)(w,2),S=k[0],z=k[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null,r.a.createElement(Ze,null,r.a.createElement(je.a,{id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"en"===h?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return g(e.target.value)}})),r.a.createElement(Ze,null,r.a.createElement(je.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===h?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return o(e.target.value)}})),r.a.createElement(Ze,null,r.a.createElement(je.a,{id:"standard-full-width",label:"en"===h?"New Password":"Nowe has\u0142o",style:{margin:8},placeholder:"en"===h?"Please type in your new password here":"Prosz\u0119 wpisz swoje nowe has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)}})),r.a.createElement(Ve,null,r.a.createElement("div",null),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:function(t){t.persist(),b().then((function(n){var a=n.data.users.find((function(e){return e.login===l&&e.email===d}));a?(!function(e){var t={_id:e._id,nick:e.nick,login:e.login,password:s,role:e.role,email:e.email};v(t)}(a),localStorage.setItem("blognellaId",a._id),e.history.push("/")):(z(["en"===h?"Invalid login or email":"Nieprawid\u0142owy login lub email"]),y(t.target))})).catch((function(e){return console.log(e)}))}},"en"===h?"Update Password":"Aktualizuj Has\u0142o"),r.a.createElement(Ue.a,{id:Boolean(O)?"simple-popover":void 0,open:Boolean(O),anchorEl:O,onClose:function(){return y(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Re.a,null,ct(S))))))})),Sr=function(){return r.a.createElement(kr,null)},zr=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],o=n[1],i=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){ze().then((function(t){var n=t.data.posts.filter((function(t){return t.title===e.search||t.tags.includes(e.search)}));o(n)})).catch((function(e){return console.log(e)}))}),[e.search]);return 0===l.length?r.a.createElement("div",null,"en"===i?"There is no post that meets the expected criteria":"Nie ma wpis\xf3w spe\u0142niaj\u0105cych podane kryteria"):r.a.createElement(Kn.a,null,l.map((function(e){return r.a.createElement(Vn.a,{key:e._id},r.a.createElement(Un.a,{primary:r.a.createElement(c.b,{to:{pathname:"/ui/post/".concat(e._id)}}," ",e.title," ")}))})))},xr=Object(i.f)((function(e){return e.location.state&&e.location.state.search?r.a.createElement(zr,{search:e.location.state.search}):r.a.createElement("div",null,"Nothing to search")}));function Ir(){return r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"}," ",r.a.createElement(Me,{page:en})," "),r.a.createElement(i.a,{path:"/register"},r.a.createElement(Me,{page:Zn})),r.a.createElement(i.a,{path:"/login/forget"},r.a.createElement(Me,{page:Sr})),r.a.createElement(i.a,{path:"/login"},r.a.createElement(Me,{page:st})),r.a.createElement(i.a,{path:"/search"},r.a.createElement(Me,{page:xr})),r.a.createElement(i.a,{path:"/ui/post/:id"},r.a.createElement(Me,{page:wr})),r.a.createElement(i.a,{path:"/panel/tags"},r.a.createElement(Me,{page:ca})),r.a.createElement(i.a,{path:"/panel/posts/add"},r.a.createElement(Me,{page:Ua})),r.a.createElement(i.a,{path:"/panel/posts/:id"},r.a.createElement(Me,{page:er})),r.a.createElement(i.a,{path:"/panel/posts"},r.a.createElement(Me,{page:Ha})),r.a.createElement(i.a,{path:"/panel/bookmarks/add"},r.a.createElement(Me,{page:ur})),r.a.createElement(i.a,{path:"/panel/bookmarks/:id"},r.a.createElement(Me,{page:pr})),r.a.createElement(i.a,{path:"/panel/bookmarks"},r.a.createElement(Me,{page:nr})),r.a.createElement(i.a,{path:"/panel/users/add"},r.a.createElement(Me,{page:vr})),r.a.createElement(i.a,{path:"/panel/users/:id"},r.a.createElement(Me,{page:Or})),r.a.createElement(i.a,{path:"/panel/users"},r.a.createElement(Me,{page:fr}))))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ir,null)),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.59288029.chunk.js.map