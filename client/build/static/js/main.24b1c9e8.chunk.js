(this.webpackJsonpjotali=this.webpackJsonpjotali||[]).push([[0],{144:function(e,t,n){e.exports=n(197)},149:function(e,t,n){},178:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),l=n.n(o),c=(n(149),n(12)),i=n(27),u=n(3),s=n(8),m=n.n(s),p=n(15),f=n(17),d=n.n(f),b=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/layouts");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/layout/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/users");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/user",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=n(9),y=n(10);function k(){var e=Object(w.a)(["\n    /* width: 100%; */\n    width: ",";\n    .MuiSvgIcon-root {\n        color: ","\n    }\n    a{\n        text-decoration: underline !important;\n    }\n    .MuiFormControl-root label{\n        color: ",";\n    }\n"]);return k=function(){return e},e}function S(){var e=Object(w.a)(["\n    max-width: 930px;\n    margin: 0rem auto 0rem auto;\n    .MuiInputBase-input {\n        color: ",";\n    }\n    /* background-color: #333333; */\n"]);return S=function(){return e},e}var x=y.a.main(S(),(function(e){return e.inputColor})),z=y.a.div(k(),(function(e){return e.width}),(function(e){return e.iconColor}),(function(e){return e.iconColor})),I={root:{default:"#292929",white:"#f9f9f9",purple:"#3d1340",red:"#580000"},page:{default:"#333333",white:"white",purple:"#602a67",red:"#7d0000"},bookmarks:{default:"#222222",white:"#e2c1d7",purple:"#431a52",red:"#320000"},text:{default:"white",white:"black",purple:"white",red:"white"},decoratedText:{default:"#00cccb",white:"#75176a",purple:"#ffeb00",red:"#d0de59"},comments:{default:"#303030",white:"#be64ab",purple:"#7d4085",red:"#610505"},inputText:{default:" #dfdfdf",white:"black",purple:"white",red:"white"}};function C(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return C=function(){return e},e}function P(){var e=Object(w.a)(["\n    border-bottom: 1px solid black;\n"]);return P=function(){return e},e}function B(){var e=Object(w.a)(["\n    padding-top: 1.8rem;\n    padding-right: 0.5rem;\n"]);return B=function(){return e},e}function L(){var e=Object(w.a)(["\n  border-right: 1px solid black;\n  margin-right: 1rem;\n  height: 100%;\n"]);return L=function(){return e},e}var W=y.a.div(L()),T=y.a.div(B()),_=y.a.span(P()),M=y.a.span(C()),D=n(121),N=n.n(D),A=n(122),F=n.n(A),Z=n(116),U=n.n(Z),V=n(123),R=n.n(V),H=n(124),G=n.n(H),K=function(){var e=localStorage.getItem("blognellaLang");return(r.a.createElement(W,null,r.a.createElement(T,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/posts"},r.a.createElement(M,null,r.a.createElement(U.a,null),"en"===e?"POSTS":"WPISY")))),r.a.createElement(T,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/bookmarks"},r.a.createElement(M,null,r.a.createElement(N.a,null),"en"===e?"BOOKMARKS":"ZAK\u0141ADKI")))),r.a.createElement(T,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/users"},r.a.createElement(M,null,r.a.createElement(F.a,null),"en"===e?"USERS":"U\u017bYTKOWNICY")))),r.a.createElement(T,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/tags"},r.a.createElement(M,null,r.a.createElement(R.a,null),"en"===e?"TAGS":"ETYKIETY")))),r.a.createElement(T,null,r.a.createElement(_,null,r.a.createElement(c.b,{to:"/panel/layouts"},r.a.createElement(M,null,r.a.createElement(G.a,null),"en"===e?"LAYOUTS":"WYGL\u0104D STRONY"))))))};function Y(){var e=Object(w.a)(["\n    display:flex;\n    height: 100%;\n    /* flex-direction: column; */\n    a{\n        text-decoration:none;\n        color: ",";\n    }\n    a:hover{\n        color: ",";\n        /* color: #00cccb; */\n    }\n"]);return Y=function(){return e},e}function J(){var e=Object(w.a)(["\n    display: flex;\n    min-height: 40rem;\n    /* background-color: #333333; */\n    justify-content: space-between;\n    flex-grow: 1;\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n"]);return J=function(){return e},e}function q(){var e=Object(w.a)(["\n    border-left: 1px solid #404040;\n    display: flex;\n    flex-direction: column;\n    padding: 0rem 1rem;\n    /* color: #00cccb; */\n    overflow: auto;\n    overflow-wrap: break-word;\n    color: ","\n"]);return q=function(){return e},e}function Q(){var e=Object(w.a)(["\n    width: 100%;\n    /* background: #333333; */\n"]);return Q=function(){return e},e}function X(){var e=Object(w.a)(["\n    display:flex;\n    /* background-color:#222222; */\n    flex-wrap: wrap;\n    border-top: 1px solid #404040;\n    border-bottom: 1px solid #404040;\n    border-left: 0 solid #404040;\n    border-right: 0 solid #404040;\n    margin: 0 10px;\n    padding: 10px 0;\n"]);return X=function(){return e},e}function $(){var e=Object(w.a)(["\n    display:flex;\n    justify-content: flex-end;\n    /* background: #333333; */\n    align-items: flex-end;\n"]);return $=function(){return e},e}function ee(){var e=Object(w.a)(["\n    color: #ffffff;\n    padding: 1rem;\n    float: left;\n    padding-bottom: 0rem;\n    padding-top: 0.5rem;\n    border-left: 1px solid #404040;\n    border-right: 0 solid #404040;\n"]);return ee=function(){return e},e}function te(){var e=Object(w.a)(["\n    color: #ffffff;\n    padding: 1rem;\n    float: left;\n    padding-bottom: 0.5rem;\n    padding-top: 0.5rem;\n    border-left: 1px solid #404040;\n    border-right: 0 solid #404040;\n    height: fit-content;\n\n    &:hover{\n        color: #ffffff;\n        background-color: #000000;\n        text-decoration: none;\n    }\n\n    &>a:hover{\n        color: #ffffff;\n    }\n"]);return te=function(){return e},e}function ne(){var e=Object(w.a)(["\n    color: #ffffff;\n    padding: 1rem;\n    float: left;\n    padding-bottom: 0.5rem;\n    padding-top: 0.5rem;\n    border-left: 1px solid #404040;\n    border-right: 0 solid #404040;\n\n    a{\n        text-decoration: underline;\n    }\n\n    &:hover{\n        color: #ffffff;\n        background-color: #000000;\n        text-decoration: none;\n    }\n\n    &>a:hover{\n        color: #ffffff;\n        cursor: pointer;\n    }\n"]);return ne=function(){return e},e}function ae(){var e=Object(w.a)(["\n    display: flex;\n"]);return ae=function(){return e},e}function re(){var e=Object(w.a)(["\n    display:flex;\n    justify-content: space-between;\n    align-items: baseline;\n    /* background: #333333; */\n"]);return re=function(){return e},e}function oe(){var e=Object(w.a)(["\n    font-family: Roboto;\n    font-size: 3.5rem;\n    padding: 22px 30px;\n"]);return oe=function(){return e},e}var le=y.a.div(oe()),ce=y.a.div(re()),ie=y.a.div(ae()),ue=y.a.div(ne()),se=y.a.div(te()),me=y.a.div(ee()),pe=y.a.div($()),fe=y.a.div(X()),de=y.a.div(Q()),be=y.a.div(q(),(function(e){return e.color})),he=y.a.div(J()),ge=y.a.div(Y(),(function(e){return e.color}),(function(e){return e.decoratedColor})),ve=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/bookmarks");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/bookmark/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/bookmark",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/bookmark/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/bookmark/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],l=localStorage.getItem("blognellaLang"),i=localStorage.getItem("blognellaTheme")||"default";0===n.length&&ve().then((function(e){var t=e.data.bookmarks;t.length!==n.length&&o(t)})).catch((function(e){return console.log(e)}));return r.a.createElement(de,null,r.a.createElement(fe,{style:{backgroundColor:I.bookmarks[i]}},r.a.createElement(ue,null,r.a.createElement(c.b,{to:"/"},"en"===l?"Home":"G\u0142\xf3wna")),n.map((function(e){return r.a.createElement(ue,{key:e._id},r.a.createElement(c.b,{to:e.post.length>0?"/ui/post/".concat(e.post[0]._id):"/"},e.title))}))||[]))},ke=n(237),Se=n(254);function xe(){var e=Object(w.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n    button{\n        height: 30px;\n        margin-top: 25px;\n    }\n    \n    display: flex;\n    flex-direction: row;\n"]);return xe=function(){return e},e}var ze=y.a.div(xe()),Ie=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=localStorage.getItem("blognellaLang");return r.a.createElement(ze,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===c?"Search":"Wyszukaj",style:{margin:8},placeholder:"en"===c?"Type in tag or title here":"Wpisz etykiet\u0119 lub tytu\u0142",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return l(e.target.value)}}),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(){e.history.push({pathname:"/search",state:{search:o}})}},"en"===c?"Search":"Wyszukaj"))})),Ce=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],f=localStorage.getItem("blognellaLang"),d=localStorage.getItem("blognellaTheme")||"default";localStorage.getItem("blognellaId")&&v(localStorage.getItem("blognellaId")||"").then((function(e){var t=e.data.user;o||l(t.nick),m||p(t.role)})).catch((function(e){return console.log(e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{style:{backgroundColor:I.comments[d]}},r.a.createElement(me,null,r.a.createElement(Ie,null)),Fe.includes(e.pageName)&&"admin"===m?r.a.createElement(ue,null,r.a.createElement(c.b,{to:"/panel/posts"},"Panel")):r.a.createElement(r.a.Fragment,null),o?r.a.createElement(ue,{onClick:function(){localStorage.removeItem("blognellaId"),"/"===e.match.path?window.location.reload():e.history.push("/")}},r.a.createElement(c.b,{to:"/"},"en"===f?"Logout":"Wyloguj"," ",r.a.createElement("span",{style:{fontWeight:"bold"}},o))):r.a.createElement(se,null,r.a.createElement(c.b,{to:"/login"},"en"===f?"Login":"Zaloguj")),o?r.a.createElement(r.a.Fragment,null):r.a.createElement(se,null,r.a.createElement(c.b,{to:"/register"},"en"===f?"Register":"Zarejestruj")),r.a.createElement(ue,{onClick:function(){"en"===(localStorage.getItem("blognellaLang")||"en")?localStorage.setItem("blognellaLang","pl"):localStorage.setItem("blognellaLang","en"),window.location.reload()}},r.a.createElement("a",null,localStorage.getItem("blognellaLang")||"en"))),r.a.createElement(ye,null))})),Pe=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null,r.a.createElement(le,null,"Blognella"),r.a.createElement(ie,null,r.a.createElement("div",null))),r.a.createElement(Ce,e))},Be=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/posts");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/post/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/post",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=15;break}return console.log("dat"),console.log(e.t0.response),e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 15:if(409!==e.t0.response.status){e.next=19;break}return e.abrupt("return",{data:{},status:409});case 19:return e.abrupt("return",{data:{},status:500});case 20:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/post/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/post/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){var t=new Date(e.post.date).toDateString();return e.post.date>(new Date).toISOString()?r.a.createElement("div",null,"It will be avaiable soon - ",t):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{overflow:"hidden"},dangerouslySetInnerHTML:{__html:e.post.content[0].text}}))},De=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],l=localStorage.getItem("blognellaLang");return Object(a.useEffect)((function(){0===n.length&&Be().then((function(e){var t=e.data.posts.filter((function(e){return"About"===e.content[0].title}));o(t)})).catch((function(e){return console.log(e)}))}),[]),n.length>0?r.a.createElement(Me,{post:n[0]}):r.a.createElement("div",null,"en"===l?"There is no About post":"Brak wpisu o mnie")};n(178);function Ne(){var e=Object(w.a)(["\n    /* display: flex; */\n    /* justify-content: space-between; */\n    margin: 0rem 1rem;\n    /* width:100%; */\n    min-width: ",";\n    width: ","\n"]);return Ne=function(){return e},e}var Ae=y.a.div(Ne(),(function(e){return e.minWidth}),(function(e){return e.width})),Fe=["/register","/login/forget","/login","/ui/post/:id","/search","/"],Ze=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=localStorage.getItem("blognellaTheme")||"default",i=localStorage.getItem("blognellaWidth")?Number(localStorage.getItem("blognellaWidth")):80;Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("blognellaId")||"";e?v(e).then((function(e){var t=e.data.user;o!==t.role&&l(t.role)})).catch((function(e){return console.log(e)})):l("guest")}(),localStorage.getItem("blognellaLang")||localStorage.setItem("blognellaLang","en"),b().then((function(e){var t=e.data.layouts,n=document.getElementById("root");t.length>0&&null!==n&&(n.style.minHeight="100vh",n.style.backgroundColor=I.root[t[0].name],localStorage.setItem("blognellaTheme",t[0].name),localStorage.setItem("blognellaWidth",t[0].mainWidth))})).catch((function(e){return console.log(e)}))}),[e]),"/login"===e.match.path&&localStorage.getItem("blognellaId")&&e.history.push("/"),!Fe.includes(e.match.path)&&"admin"!==o&&o&&e.history.push("/");var s=e.page;return(r.a.createElement(x,{inputColor:I.inputText[c],style:{backgroundColor:I.page[c],color:I.text[c]}},r.a.createElement(Pe,{pageName:e.match.path}),r.a.createElement(he,null,r.a.createElement(Ae,{minWidth:Fe.includes(e.match.path)?"".concat(9.3*i,"px"):"unset",width:Fe.includes(e.match.path)?"".concat(9.3*i,"px"):"100%"},r.a.createElement(ge,{color:I.text[c],decoratedColor:I.decoratedText[c]},o&&r.a.createElement(r.a.Fragment,null,Fe.includes(e.match.path)?r.a.createElement(r.a.Fragment,null):r.a.createElement(K,null),r.a.createElement(z,{width:"100%",iconColor:I.text[c]},r.a.createElement(s,null))))),Fe.includes(e.match.path)?r.a.createElement(be,{color:I.decoratedText[c]},r.a.createElement(De,null)):r.a.createElement(r.a.Fragment,null))))})),Ue=n(5);function Ve(){var e=Object(w.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0rem 3rem;\n    .MuiButton-containedPrimary{\n      margin: 0 0.5rem;\n    }\n"]);return Ve=function(){return e},e}function Re(){var e=Object(w.a)(["\n    display: flex;\n    flex-grow: 1;\n\n    .MuiInputBase-root{\n      color: #d8d8d8;\n    }\n\n    label{\n      color: white;\n    }\n"]);return Re=function(){return e},e}function He(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  /* background: #333333; */\n  color: white;\n  border: 2px solid white;\n"]);return He=function(){return e},e}var Ge=y.a.div(He()),Ke=y.a.div(Re()),Ye=y.a.div(Ve()),Je=n(252),qe=n(85),Qe=n(30);function Xe(e){return $e.apply(this,arguments)}function $e(){return($e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Qe.a)(t);case 3:return e.abrupt("return",[]);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var et,tt,nt,at,rt,ot,lt,ct,it,ut,st,mt,pt,ft=function(e){return"password"===e?"has\u0142o":"role"===e?"rola":"date"===e?"data":"tags"===e?"etykiety":"title"===e?"tytu\u0142":"content"===e?"tre\u015b\u0107":"comment"===e?"komentarz":"user"===e?"u\u017cytkownik":"post"===e?"wpis":"name"===e?"nazwa":"text"===e?"tekst":e},dt=function(e,t){var n=ft(bt(e));return"isAlphanumeric"===t?"pole ".concat(n," musi zawiera\u0107 tylko litery i liczby"):"isNotEmpty"===t?"pole ".concat(n," nie jest dozwole puste"):"isString"===t?"pole ".concat(n," musi by\u0107 tekstem"):"notContains"===t?"pole ".concat(n," nie mo\u017ce zawiera\u0107 spacji"):"minLength"===t?"pole ".concat(n," musi zawiera\u0107 co najmniej wymagan\u0105 liczb\u0119 znak\xf3w"):"isEmail"===t?"pole ".concat(n," musi by\u0107 prawid\u0142owym emailem"):"isArray"===t?"pole ".concat(n," musi by\u0107 zbiorem etykiet"):"isDateString"===t?"pole ".concat(n," musi by\u0107 w poprawnym formacie daty"):""},bt=function(e){return e.replace(/ .*/,"")},ht=function(e,t){return Object.keys(e).map((function(n){return"isAlphanumeric"===n?"en"===t?e[n]:dt(e[n],n):"isNotEmpty"===n?"en"===t?e[n]:dt(e[n],n):"isString"===n?"en"===t?e[n]:dt(e[n],n):"notContains"===n?"en"===t?e[n]:dt(e[n],n):"minLength"===n?"en"===t?e[n]:dt(e[n],n):"isEmail"===n?"en"===t?e[n]:dt(e[n],n):"isArray"===n?"en"===t?e[n]:dt(e[n],n):"isDateString"===n?"en"===t?e[n]:dt(e[n],n):""}))},gt=function(e){return e.map((function(e){return r.a.createElement("div",{key:e},e)}))},vt=function(e,t){return Object.keys(e).map((function(e){return"en"===t?"".concat(e," should be unique"):"pole ".concat(ft(e)," musi byc unikalne")}))},jt=n(18),Ot=n(24),Et=n(19),wt=(n(32),n(239)),yt=n(240),kt=n(241),St=n(242),xt=n(243),zt=(et=Object(wt.a)(),tt=Object(yt.a)(),nt=Object(kt.a)(),at=Object(St.a)(" "),rt=Object(xt.a)(2),ot=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"login",lt,this),this.login=t.login},lt=Object(Et.a)(ot.prototype,"login",[et,tt,nt,at,rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot),It=function(e,t){return Xe(new zt(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},Ct=(ct=Object(yt.a)(),it=Object(kt.a)(),ut=Object(xt.a)(7),st=Object(St.a)(" "),mt=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"password",pt,this),this.password=t.password},pt=Object(Et.a)(mt.prototype,"password",[ct,it,ut,st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt),Pt=function(e,t){return Xe(new Ct(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))};function Bt(){var e=Object(w.a)(["\n    padding: 0.2rem 0 0.5rem 0.5rem;\n"]);return Bt=function(){return e},e}var Lt,Wt,Tt,_t,Mt,Dt,Nt,At,Ft,Zt=y.a.div(Bt()),Ut=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],f=localStorage.getItem("blognellaLang"),d=Object(a.useState)(null),b=Object(u.a)(d,2),h=b[0],v=b[1],j=Object(a.useState)([]),O=Object(u.a)(j,2),E=O[0],w=O[1],y=Object(a.useState)({login:"",password:""}),k=Object(u.a)(y,2),S=k[0],x=k[1],z=Object(a.useState)({}),I=Object(u.a)(z,2),C=I[0],P=I[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge,null,r.a.createElement(Ke,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===f?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return l(e.target.value)},onInput:function(e){return t=e.target.value,void(C.login&&It({login:t.trim()},f).then((function(e){x(Object(Ue.a)({},S,{login:e}))})));var t},onBlur:function(e){return t=e.target.value,void It({login:t.trim()},f).then((function(e){x(Object(Ue.a)({},S,{login:e})),P(Object(Ue.a)({},C,{login:!0}))}));var t}})),r.a.createElement(Zt,null,S.login),r.a.createElement(Ke,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===f?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===f?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"password",onChange:function(e){return p(e.target.value)},onInput:function(e){return t=e.target.value,void(C.password&&Pt({password:t.trim()},f).then((function(e){x(Object(Ue.a)({},S,{password:e}))})));var t},onBlur:function(e){return t=e.target.value,void Pt({password:t.trim()},f).then((function(e){x(Object(Ue.a)({},S,{password:e})),P(Object(Ue.a)({},C,{password:!0}))}));var t}})),r.a.createElement(Zt,null,S.password),r.a.createElement(Ye,null,r.a.createElement("div",null,"en"===f?"Forgot password? Click ":"Zapomnia\u0142es has\u0142a? Kliknij ",r.a.createElement(c.b,{to:"/login/forget"},"en"===f?"here":"tutaj")),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist(),g().then((function(n){var a=n.data.users.find((function(e){return e.login===o&&e.password===m}));a?(localStorage.setItem("blognellaId",a._id),e.history.push("/")):(w(["en"===f?"Invalid login or password":"Nieprawid\u0142owy login lub has\u0142o"]),v(t.target))})).catch((function(e){return console.log(e)}))}},"en"===f?"Login":"Zaloguj"),r.a.createElement(Je.a,{id:Boolean(h)?"simple-popover":void 0,open:Boolean(h),anchorEl:h,onClose:function(){return v(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(E))))))})),Vt=function(){return r.a.createElement(Ut,null)},Rt=n(130),Ht=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/comment",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/comment/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.keyValue,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/comment/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Yt=n(258),Jt=(Lt=Object(Yt.a)(),Wt=Object(yt.a)(),Tt=Object(kt.a)(),_t=Object(yt.a)(),Mt=Object(kt.a)(),Dt=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"date",Nt,this),Object(jt.a)(this,"text",At,this),Object(jt.a)(this,"user",Ft,this),this.date=t.date,this.text=t.text,this.user=t.user},Nt=Object(Et.a)(Dt.prototype,"date",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=Object(Et.a)(Dt.prototype,"text",[Wt,Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Object(Et.a)(Dt.prototype,"user",[_t,Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt),qt=function(e,t){return Xe(new Jt(e)).then((function(e){return e.length>0?ht(e[0].constraints,t):[]}))};function Qt(){var e=Object(w.a)(["\n    margin-left: 1rem;\n    color: ",";\n    font-weight: 600;\n    /* color: #00cccb; */\n    cursor: pointer;\n\n    &:hover{\n        color: white;\n    }\n\n    &:active{\n        color: #dfdfdf;\n    }\n"]);return Qt=function(){return e},e}function Xt(){var e=Object(w.a)(["\n    font-weight: bold;\n"]);return Xt=function(){return e},e}function $t(){var e=Object(w.a)(["\n    label{\n        color: white;\n        font-weight: bold;\n    }\n\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n"]);return $t=function(){return e},e}var en=y.a.div($t()),tn=y.a.span(Xt()),nn=y.a.span(Qt(),(function(e){return e.color})),an=Object(i.f)((function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(e.comment.text),i=Object(u.a)(c,2),s=i[0],m=i[1],p=localStorage.getItem("blognellaLang"),f=localStorage.getItem("blognellaTheme")||"default",d=Object(a.useState)(null),b=Object(u.a)(d,2),h=b[0],g=b[1],v=Object(a.useState)([]),j=Object(u.a)(v,2),O=j[0],E=j[1],w="guest"!==e.role&&(e.comment.user===e.nick||"admin"===e.role);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(tn,null,e.comment.user," ")," ",new Date(e.comment.date).toDateString(),w?r.a.createElement(r.a.Fragment,null,r.a.createElement(nn,{color:I.decoratedText[f],onClick:function(){o&&m(e.comment.text),l(!o)}},"en"===p?"Edit":"Edytuj"),r.a.createElement(nn,{color:I.decoratedText[f],onClick:function(){e.updatePostToDeleteComment(e.comment._id),Kt(e.comment._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Comment not deleted");window.location.reload()})).catch((function(e){return console.log(e)}))}},"en"===p?"Delete":"Usu\u0144")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(en,null,o?r.a.createElement(Se.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"en"===p?"Please type in your comment here":"Prosz\u0119 wpisz komentarz",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!o},defaultValue:s,onChange:function(e){return m(e.target.value)}}):r.a.createElement("div",{style:{padding:"1rem 0",borderBottom:"2px solid #404040",wordBreak:"break-word"}},s),o?r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={_id:e.comment._id,date:e.comment.date,text:s.trim(),user:e.comment.user};qt(n,p).then((function(e){e.length>0?(E(e),g(t.target)):Gt(n).then((function(e){var n=e.data,a=e.status;403!==a&&500!==a?(l(!o),window.location.reload()):403===a?(E(vt(n,p)),g(t.target)):(E(["en"===p?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),g(t.target))}))}))}},"en"===p?"Save Comment":"Zapisz Komentarz"):r.a.createElement(r.a.Fragment,null),r.a.createElement(Je.a,{id:Boolean(h)?"simple-popover":void 0,open:Boolean(h),anchorEl:h,onClose:function(){return g(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(O)))))})),rn=function(e){var t=Object(a.useState)("Guest"),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)("guest"),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),d=f[0],b=f[1],h=localStorage.getItem("blognellaLang"),g=Object(a.useState)(null),j=Object(u.a)(g,2),O=j[0],E=j[1],w=Object(a.useState)([]),y=Object(u.a)(w,2),k=y[0],S=y[1];Object(a.useEffect)((function(){var e=localStorage.getItem("blognellaId");e?function(e){v(e).then((function(e){var t=e.data.user;l(t.nick),m(t.role)})).catch((function(e){return console.log(e)}))}(e):(l("Guest"),m("guest"))}),[e]);var x=function(t){var n=e.post.comment.filter((function(e){return e!==t})),a={date:e.post.date,tags:e.post.tags,title:e.post.title,content:e.post.content[0]._id,_id:e.post._id,user:e.post.user,comment:n};Te(a).then((function(e){if(200!==e.status)throw new Error("Error! Post not saved")})).catch((function(e){return console.log(e)}))};return r.a.createElement(r.a.Fragment,null,e.post.comment.length<1?r.a.createElement("div",null,"en"===h?"No comments":"Brak komentarzy"):e.post.comment.map((function(e){return r.a.createElement(an,{key:e._id,nick:o,role:s,comment:e,updatePostToDeleteComment:x})})),r.a.createElement(en,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===h?"Add Comment":"Dodaj komentarz",style:{margin:8},placeholder:"en"===h?"Please type in your comment here":"Prosz\u0119 wpisz komentarz",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return b(e.target.value)}}),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={text:d.trim(),date:(new Date).toISOString(),user:o};qt(n,h).then((function(a){a.length>0?(S(a),E(t.target)):Ht(n).then((function(n){var a=n.data,r=n.status;if(403!==r&&500!==r){var o={date:e.post.date,tags:e.post.tags,title:e.post.title,content:e.post.content[0]._id,_id:e.post._id,user:e.post.user,comment:[].concat(Object(Rt.a)(e.post.comment),[a.comment._id])};Te(o).then((function(e){var n=e.data,a=e.status;403!==a&&500!==a?window.location.reload():403===a?(S(vt(n,h)),E(t.target)):(S(["en"===h?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),E(t.target))}))}else 403===r?(S(vt(a,h)),E(t.target)):(S(["en"===h?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),E(t.target))}))}))}},"en"===h?"Add Comment":"Dodaj Komentarz"),r.a.createElement(Je.a,{id:Boolean(O)?"simple-popover":void 0,open:Boolean(O),anchorEl:O,onClose:function(){return E(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(k)))))},on=function(e){return r.a.createElement(c.b,{to:"/ui/post/".concat(e.post._id)},e.post.title)};function ln(){var e=Object(w.a)(["\n    width: 100%;\n    /* background-color: #303030; */\n    padding: 0.2rem 0.75rem;\n    border-bottom: 2px solid #404040;\n    margin-top: 2rem;\n"]);return ln=function(){return e},e}function cn(){var e=Object(w.a)(["\n    margin-bottom: 2rem;\n    font-size: 1.2rem;\n    font-weight: bold;\n"]);return cn=function(){return e},e}function un(){var e=Object(w.a)(["\n    margin-bottom: 2rem;\n    font-size: 0.7rem;\n    font-weight: bold;\n"]);return un=function(){return e},e}function sn(){var e=Object(w.a)(["\n    /* color: #00cccb; */\n    color: ",";\n    font-size: 0.92rem;\n    font-style: oblique;\n    margin-bottom: 0.5rem;\n"]);return sn=function(){return e},e}function mn(){var e=Object(w.a)(["\n    margin-top: 0.5rem;\n    font-weight: bold;\n    color: ",";\n    /* color: #00cccb; */\n"]);return mn=function(){return e},e}function pn(){var e=Object(w.a)(["\n    font-size: 1.6rem;\n    margin-top: 1rem;\n    \n"]);return pn=function(){return e},e}function fn(){var e=Object(w.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 3rem;\n"]);return fn=function(){return e},e}function dn(){var e=Object(w.a)(["\n    margin: 0.2rem 0;\n    /* overflow: auto; */\n    overflow: hidden;\n    max-width: 46rem;\n    word-break: break-all;\n"]);return dn=function(){return e},e}function bn(){var e=Object(w.a)(["\n    font-size: 2rem;\n    font-weight: bold;\n    margin: 0.2rem 0;\n"]);return bn=function(){return e},e}function hn(){var e=Object(w.a)(["\n    font-size: 0.7rem;\n    font-weight: bold;\n"]);return hn=function(){return e},e}var gn=y.a.div(hn()),vn=y.a.div(bn()),jn=y.a.div(dn()),On=y.a.div(fn()),En=y.a.div(pn()),wn=y.a.div(mn(),(function(e){return e.color})),yn=y.a.div(sn(),(function(e){return e.color})),kn=y.a.div(un()),Sn=y.a.span(cn()),xn=y.a.div(ln()),zn=function(e){var t=localStorage.getItem("blognellaLang"),n=localStorage.getItem("blognellaTheme")||"default",a=new Date(e.post.date).toLocaleDateString("en"===t?"en-GB":"pl-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.post.date>(new Date).toISOString()?r.a.createElement("div",null,"en"===t?"It will be avaiable soon - ":"Dost\u0119pne wkr\xf3tce - ",a):r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,null,a),r.a.createElement(vn,null,e.post.title),r.a.createElement(jn,{dangerouslySetInnerHTML:{__html:e.post.content[0].text}}),r.a.createElement(On,null,e.postChapters.length>0?r.a.createElement(En,null,"en"===t?"Chapters":"Rozdzia\u0142y"):r.a.createElement(r.a.Fragment,null),e.postChapters.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(on,{post:e}))}))),r.a.createElement(xn,{style:{backgroundColor:I.comments[n]}},r.a.createElement(yn,{color:I.decoratedText[n]},r.a.createElement(wn,{color:I.decoratedText[n]},"en"===t?"Tags: ":"Etykiety: "),e.post.tags.map((function(e){return r.a.createElement("span",{key:e,style:{marginRight:"1.2rem"}},e)})))),r.a.createElement(kn,null,"en"===t?"Added by ":"Dodane przez ",r.a.createElement(Sn,null,e.post.user)),r.a.createElement(xn,{style:{backgroundColor:I.comments[n]}},r.a.createElement(rn,{post:e.post})))},In=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){Be().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title})).reduce((function(e,t){return JSON.stringify(e)===JSON.stringify({})?t:e.date<t.date?t:e}),{});o(t)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,function(){var e=n||{content:[]};return e.content&&e.content.length>0}()?r.a.createElement(zn,{post:n,postChapters:[]}):r.a.createElement(r.a.Fragment,null))},Cn=function(){return r.a.createElement(In,null)};function Pn(){var e=Object(w.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0rem 3rem;\n    .MuiButton-containedPrimary{\n      margin: 0 0.5rem;\n    }\n"]);return Pn=function(){return e},e}function Bn(){var e=Object(w.a)(["\n    display: flex;\n    flex-grow: 1;\n\n    label{\n      color: white;\n    }\n\n    .MuiInputBase-root{\n      color: #dfdfdf;\n    }\n"]);return Bn=function(){return e},e}function Ln(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  /* background: #333333; */\n  color: white;\n  border: 2px solid white;\n"]);return Ln=function(){return e},e}var Wn,Tn,_n,Mn,Dn,Nn,An,Fn,Zn,Un,Vn,Rn,Hn,Gn,Kn,Yn,Jn,qn,Qn,Xn,$n,ea,ta,na,aa,ra=y.a.div(Ln()),oa=y.a.div(Bn()),la=y.a.div(Pn()),ca=n(244),ia=n(245);!function(e){e.GUEST="guest",e.LOOGED_USER="loggedUser",e.ADMIN="admin"}(aa||(aa={}));var ua,sa,ma,pa,fa,da,ba,ha,ga,va,ja,Oa,Ea=(Wn=Object(wt.a)(),Tn=Object(yt.a)(),_n=Object(kt.a)(),Mn=Object(St.a)(" "),Dn=Object(wt.a)(),Nn=Object(yt.a)(),An=Object(kt.a)(),Fn=Object(St.a)(" "),Zn=Object(xt.a)(2),Un=Object(yt.a)(),Vn=Object(kt.a)(),Rn=Object(xt.a)(7),Hn=Object(St.a)(" "),Gn=Object(ca.a)(aa),Kn=Object(ia.a)(),Yn=Object(St.a)(" "),Jn=Object(kt.a)(),qn=Object(yt.a)(),Qn=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"nick",Xn,this),Object(jt.a)(this,"login",$n,this),Object(jt.a)(this,"password",ea,this),Object(jt.a)(this,"role",ta,this),Object(jt.a)(this,"email",na,this),this.nick=t.nick,this.login=t.login,this.password=t.password,this.role=t.role,this.email=t.email},Xn=Object(Et.a)(Qn.prototype,"nick",[Wn,Tn,_n,Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=Object(Et.a)(Qn.prototype,"login",[Dn,Nn,An,Fn,Zn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=Object(Et.a)(Qn.prototype,"password",[Un,Vn,Rn,Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=Object(Et.a)(Qn.prototype,"role",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=Object(Et.a)(Qn.prototype,"email",[Kn,Yn,Jn,qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn),wa=function(e,t){return Xe(new Ea(e)).then((function(e){return e.length>0?ht(e[0].constraints,t):[]}))},ya=(ua=Object(wt.a)(),sa=Object(yt.a)(),ma=Object(kt.a)(),pa=Object(St.a)(" "),fa=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"nick",da,this),this.nick=t.nick},da=Object(Et.a)(fa.prototype,"nick",[ua,sa,ma,pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fa),ka=function(e,t){return Xe(new ya(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},Sa=(ba=Object(ia.a)(),ha=Object(St.a)(" "),ga=Object(kt.a)(),va=Object(yt.a)(),ja=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"email",Oa,this),this.email=t.email},Oa=Object(Et.a)(ja.prototype,"email",[ba,ha,ga,va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja),xa=function(e,t){return Xe(new Sa(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},za=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],f=Object(a.useState)(""),d=Object(u.a)(f,2),b=d[0],h=d[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),O=v[0],E=v[1],w=localStorage.getItem("blognellaLang"),y=Object(a.useState)(null),k=Object(u.a)(y,2),S=k[0],x=k[1],z=Object(a.useState)([]),I=Object(u.a)(z,2),C=I[0],P=I[1],B=Object(a.useState)({nick:"",login:"",password:"",email:""}),L=Object(u.a)(B,2),W=L[0],T=L[1],_=Object(a.useState)({}),M=Object(u.a)(_,2),D=M[0],N=M[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra,null,r.a.createElement(oa,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===w?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return l(e.target.value)},onInput:function(e){return t=e.target.value,void(D.nick&&ka({nick:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{nick:e}))})));var t},onBlur:function(e){return t=e.target.value,void ka({nick:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{nick:e})),N(Object(Ue.a)({},D,{nick:!0}))}));var t}})),r.a.createElement(Zt,null,W.nick),r.a.createElement(oa,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===w?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)},onInput:function(e){return t=e.target.value,void(D.login&&It({login:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{login:e}))})));var t},onBlur:function(e){return t=e.target.value,void It({login:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{login:e})),N(Object(Ue.a)({},D,{login:!0}))}));var t}})),r.a.createElement(Zt,null,W.login),r.a.createElement(oa,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===w?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===w?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"password",onChange:function(e){return h(e.target.value)},onInput:function(e){return t=e.target.value,void(D.password&&Pt({password:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{password:e}))})));var t},onBlur:function(e){return t=e.target.value,void Pt({password:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{password:e})),N(Object(Ue.a)({},D,{password:!0}))}));var t}})),r.a.createElement(Zt,null,W.password),r.a.createElement(oa,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"en"===w?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return E(e.target.value)},onInput:function(e){return t=e.target.value,void(D.email&&xa({email:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{email:e}))})));var t},onBlur:function(e){return t=e.target.value,void xa({email:t.trim()},w).then((function(e){T(Object(Ue.a)({},W,{email:e})),N(Object(Ue.a)({},D,{email:!0}))}));var t}})),r.a.createElement(Zt,null,W.email),r.a.createElement(la,null,r.a.createElement("div",null,"en"===w?"Have already account? ":"Masz ju\u017c konto? ",r.a.createElement(c.b,{to:"/login"},"en"===w?"Login":"Zaloguj si\u0119")),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={nick:o.trim(),login:m.trim(),password:b.trim(),email:O.trim(),role:"loggedUser"};wa(n,w).then((function(a){a.length>0?(P(a),x(t.target)):j(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/"):403===r?(P(vt(a,w)),x(t.target)):(P(["en"===w?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),x(t.target))}))}))}},"en"===w?"Register":"Zarejestruj si\u0119"),r.a.createElement(Je.a,{id:Boolean(S)?"simple-popover":void 0,open:Boolean(S),anchorEl:S,onClose:function(){return x(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(C))))))})),Ia=function(){return r.a.createElement(za,null)},Ca=n(201),Pa=n(246),Ba=n(247),La=n(248),Wa=n(236),Ta=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/tags");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_a=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/tag",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{data:e.t0.response.data.errors,status:403});case 13:return e.abrupt("return",{data:{},status:500});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ma=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/tag/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Da=n(47),Na=n.n(Da);function Aa(){var e=Object(w.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n"]);return Aa=function(){return e},e}var Fa,Za,Ua,Va,Ra,Ha,Ga,Ka,Ya=y.a.div(Aa()),Ja=(Fa=Object(yt.a)(),Za=Object(kt.a)(),Ua=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"name",Va,this),this.name=t.name},Va=Object(Et.a)(Ua.prototype,"name",[Fa,Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua),qa=function(e,t){return Xe(new Ja(e)).then((function(e){return e.length>0?ht(e[0].constraints,t):[]}))},Qa=(Ra=Object(yt.a)(),Ha=Object(kt.a)(),Ga=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"name",Ka,this),this.name=t.name},Ka=Object(Et.a)(Ga.prototype,"name",[Ra,Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga),Xa=function(e,t){return Xe(new Qa(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},$a=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],m=i[1],p=localStorage.getItem("blognellaLang"),f=Object(a.useState)(null),d=Object(u.a)(f,2),b=d[0],h=d[1],g=Object(a.useState)([]),v=Object(u.a)(g,2),j=v[0],O=v[1],E=Object(a.useState)({name:""}),w=Object(u.a)(E,2),y=w[0],k=w[1],S=Object(a.useState)({}),x=Object(u.a)(S,2),z=x[0],I=x[1],C=function(){Ta().then((function(e){var t=e.data.tags;return m(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){C()}),[]);return r.a.createElement(Ya,null,r.a.createElement(Wa.a,null,s.map((function(e){return r.a.createElement(Ca.a,{key:e.name},r.a.createElement(Pa.a,{primary:e.name}),r.a.createElement(Ba.a,null,r.a.createElement(La.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){Ma(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Tag not deleted");C()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Na.a,null))))}))),r.a.createElement("div",null,r.a.createElement(Se.a,{label:"en"===p?"Tag":"Etykieta",style:{margin:8},placeholder:"en"===p?"Please type in your tag here":"Prosz\u0119 wpisz etykiet\u0119",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return l(e.target.value)},onInput:function(e){return t=e.target.value,void(z.name&&Xa({name:t.trim()},p).then((function(e){k(Object(Ue.a)({},y,{name:e}))})));var t},onBlur:function(e){return t=e.target.value,void Xa({name:t.trim()},p).then((function(e){k(Object(Ue.a)({},y,{name:e})),I(Object(Ue.a)({},z,{name:!0}))}));var t}}),r.a.createElement(Zt,null,y.name),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist(),qa({name:o.trim()},p).then((function(n){n.length>0?(O(n),h(t.target)):_a({name:o}).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?(C(),e.history.push("/panel/tags")):403===r?(O(vt(a,p)),h(t.target)):(O(["en"===p?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),h(t.target))}))}))}},"en"===p?"Add Tag":"Dodaj etykiet\u0119"),r.a.createElement(Je.a,{id:Boolean(b)?"simple-popover":void 0,open:Boolean(b),anchorEl:b,onClose:function(){return h(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(j)))))})),er=function(){return r.a.createElement($a,null)},tr=n(256);function nr(){var e=Object(w.a)(["\n    /* color: white; */\n    text-align: center;\n    font-weight: 600;\n    font-size: larger;\n    padding: 1rem 0;\n"]);return nr=function(){return e},e}function ar(){var e=Object(w.a)(["\n    width: 35rem;\n    height: 2rem;\n"]);return ar=function(){return e},e}function rr(){var e=Object(w.a)(["\n    label{\n        color: white;\n    }\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n\n    .MuiListItem-root{\n        &:hover {\n            background-color: #292929;\n            color: white !important;\n        }\n    }\n    \n    .MuiSlider-markActive {\n        background-color: unset;\n    }\n\n    .MuiSlider-mark {\n        background-color: unset;\n    }\n\n    .MuiSlider-markLabel {\n        color: ",";\n        /* color: white; */\n    }\n\n    .MuiSlider-root {\n        padding-top: 3.5rem;\n    }\n"]);return rr=function(){return e},e}var or=y.a.div(rr(),(function(e){return e.textColor})),lr=y.a.div(ar()),cr=y.a.div(nr()),ir=[{name:"default",plName:"domy\u015blny",colors:["#292929","white","#00cccb"]},{name:"white",plName:"bia\u0142y",colors:["#f9f9f9","black","#c127ae"]},{name:"purple",plName:"purpurowy",colors:["#3d1340","white","#ffeb00"]},{name:"red",plName:"czerwony",colors:["#580000","white","#d0de59"]}],ur=Object(i.f)((function(){var e=Object(a.useState)(ir),t=Object(u.a)(e,2),n=t[0],o=(t[1],localStorage.getItem("blognellaLang")),l=localStorage.getItem("blognellaTheme")||"default",c=Object(a.useState)(null),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)([]),f=Object(u.a)(p,2),d=f[0],g=f[1],v=Object(a.useState)({_id:"",name:"",mainWidth:400}),j=Object(u.a)(v,2),O=j[0],E=j[1],w=[{value:500,label:"en"===o?"Main Post Width ".concat(O.mainWidth,"px"):"Szeroko\u015b\u0107 G\u0142\xf3wnego Wpisu"},{value:690,label:"en"===o?"About Post Width ".concat(930-O.mainWidth,"px"):"Szeroko\u015b\u0107 Sekcji 'O mnie'"}];Object(a.useEffect)((function(){b().then((function(e){var t=e.data.layouts;return t.length>0&&E(Object(Ue.a)({},t[0],{mainWidth:Math.round(9.3*t[0].mainWidth)}))})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(or,{textColor:I.text[l]},r.a.createElement(cr,null,"en"===o?"Theme Name":"Nazwa Motywu"),r.a.createElement(Wa.a,null,n.map((function(e){return r.a.createElement(Ca.a,{key:e.name,style:{cursor:"pointer",color:O.name===e.name?e.colors[2]:"inherit",border:O.name===e.name&&"white"!==e.name?"1px solid rgba(223, 223, 223, 0.2)":O.name===e.name?"1px solid rgba(0, 0, 0, 0.2)":"unset",borderRadius:"1rem"},onClick:function(){return t=e.name,void E(Object(Ue.a)({},O,{name:t}));var t}},r.a.createElement(Pa.a,{primary:"en"===o?e.name:e.plName}),r.a.createElement(lr,null,r.a.createElement("div",{style:{backgroundColor:e.colors[0],height:"0.66rem"}}),r.a.createElement("div",{style:{backgroundColor:e.colors[1],height:"0.66rem"}}),r.a.createElement("div",{style:{backgroundColor:e.colors[2],height:"0.66rem"}})))}))),r.a.createElement("div",null,r.a.createElement(cr,null,"en"===o?"Sections Width":"Szeroko\u015b\u0107 Sekcji"),r.a.createElement(tr.a,{"aria-labelledby":"discrete-slider-custom",step:1,valueLabelDisplay:"auto",marks:w,min:400,max:790,value:O.mainWidth,onChange:function(e,t){E(Object(Ue.a)({},O,{mainWidth:t}))}}),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(e){e.persist(),h(Object(Ue.a)({},O,{mainWidth:O.mainWidth/9.3})).then((function(t){var n=t.status;403!==n&&500!==n?(g(["en"===o?" Saved layout ":" Zapisano uk\u0142ad strony "]),m(e.target),window.location.reload()):(g(["en"===o?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),m(e.target))}))}},"en"===o?"Save Layout":"Zapisz Uk\u0142ad Strony"),r.a.createElement(Je.a,{id:Boolean(s)?"simple-popover":void 0,open:Boolean(s),anchorEl:s,onClose:function(){return m(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(d)))))})),sr=function(){return r.a.createElement(ur,null)},mr=n(253),pr=n(249);function fr(){var e=Object(w.a)(["\n    .MuiInputBase-root{\n        color: white;\n      }\n    "]);return fr=function(){return e},e}var dr=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],p=function(){Be().then((function(e){return function(e){var t=e.filter((function(e){return"Main"===e.content[0].title})).map((function(e){return e.title}));l(t)}(e.data.posts)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){p()}),[]),Object(a.useEffect)((function(){""===s&&e.storyTitle&&m(e.storyTitle)}),[e.storyTitle]);var f=y.a.div(fr());return r.a.createElement(f,null,r.a.createElement(mr.a,{value:s,onChange:function(t){m(t.target.value),e.setPostTitle(t.target.value)}},o.map((function(e){return r.a.createElement(pr.a,{key:e,value:e},e)}))))},br=n(84),hr=n(251),gr=n(46),vr=n(234),jr=n(257),Or=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/content",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Er=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/content/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),wr=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/content/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),yr=n(83),kr=n.n(yr);function Sr(){var e=Object(w.a)(["\n    label{\n        /* color: white; */\n    }\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n    input{\n        color: ",";\n    }\n"]);return Sr=function(){return e},e}var xr,zr,Ir,Cr,Pr,Br,Lr,Wr,Tr,_r,Mr,Dr,Nr,Ar,Fr,Zr,Ur,Vr,Rr,Hr=y.a.div(Sr(),(function(e){return e.inputColor})),Gr=n(250),Kr=(xr=Object(Yt.a)(),zr=Object(Gr.a)(),Ir=Object(yt.a)(),Cr=Object(kt.a)(),Pr=Object(yt.a)(),Br=Object(kt.a)(),Lr=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"date",Wr,this),Object(jt.a)(this,"tags",Tr,this),Object(jt.a)(this,"title",_r,this),this.content=void 0,this.comment=void 0,Object(jt.a)(this,"user",Mr,this),this.date=t.date,this.tags=t.tags,this.title=t.title,this.content=t.content,this.comment=t.comment,this.user=t.user},Wr=Object(Et.a)(Lr.prototype,"date",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tr=Object(Et.a)(Lr.prototype,"tags",[zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r=Object(Et.a)(Lr.prototype,"title",[Ir,Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=Object(Et.a)(Lr.prototype,"user",[Pr,Br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr),Yr=function(e,t){return Xe(new Kr(e)).then((function(e){return e.length>0?ht(e[0].constraints,t):[]}))},Jr=(Dr=Object(yt.a)(),Nr=Object(kt.a)(),Ar=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"title",Fr,this),this.title=t.title},Fr=Object(Et.a)(Ar.prototype,"title",[Dr,Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar),qr=function(e,t){return Xe(new Jr(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},Qr=(Zr=Object(yt.a)(),Ur=Object(kt.a)(),Vr=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"user",Rr,this),this.user=t.user},Rr=Object(Et.a)(Vr.prototype,"user",[Zr,Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr),Xr=function(e,t){return Xe(new Qr(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},$r=Object(hr.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),eo={PaperProps:{style:{maxHeight:224,width:250}}};function to(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var no=Object(i.f)((function(e){var t=$r(),n=Object(gr.a)(),o=Object(a.useState)("<p>...</p>"),l=Object(u.a)(o,2),c=l[0],i=l[1],s=Object(a.useState)(""),m=Object(u.a)(s,2),p=m[0],f=m[1],d=Object(a.useState)([]),b=Object(u.a)(d,2),h=b[0],g=b[1],j=Object(a.useState)(void 0),O=Object(u.a)(j,2),E=O[0],w=O[1],y=Object(a.useState)([]),k=Object(u.a)(y,2),S=k[0],x=k[1],z=Object(a.useState)(new Date),C=Object(u.a)(z,2),P=C[0],B=C[1],L=Object(a.useState)(""),W=Object(u.a)(L,2),T=W[0],_=W[1],M=localStorage.getItem("blognellaLang"),D=localStorage.getItem("blognellaTheme")||"default",N=Object(a.useState)(null),A=Object(u.a)(N,2),F=A[0],Z=A[1],U=Object(a.useState)([]),V=Object(u.a)(U,2),R=V[0],H=V[1],G=Object(a.useState)({title:"",user:""}),K=Object(u.a)(G,2),Y=K[0],J=K[1],q=Object(a.useState)({}),Q=Object(u.a)(q,2),X=Q[0],$=Q[1];Object(a.useEffect)((function(){E&&(ee(),w(void 0))}),[E]);Object(a.useEffect)((function(){Ta().then((function(e){var t=e.data.tags;return x(t.map((function(e){return e.name})))})).catch((function(e){return console.log(e)})),function(){var e=localStorage.getItem("blognellaId");e&&v(e).then((function(e){var t=e.data.user;_(t.nick)})).catch((function(e){return console.log(e)}))}()}),[]);var ee=function(){var t={date:P.toISOString(),tags:h,title:p.trim(),content:E,user:T.trim()};Yr(t,M).then((function(n){n.length>0?(H(n),wr(E||"")):We(t).then((function(t){var n=t.data,a=t.status;403!==a&&409!==a&&500!==a?e.history.push("/panel/posts"):403===a?(H(vt(n,M)),wr(E||"")):409===a?(H(["en"===M?"Only one post of type 'About' is allowed":"Tylko jeden wpis typu 'O mnie' jest dozwolony"]),wr(E||"")):(H(["en"===M?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),wr(E||""))}))}))};return r.a.createElement(Hr,{inputColor:I.text[D]},r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===M?"Title":"Tytu\u0142",style:{margin:8},placeholder:"en"===M?"Please type in your post title here":"Prosz\u0119 wpisz tytu\u0142 wpisu",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return f(e.target.value)},onInput:function(e){return t=e.target.value,void(X.title&&qr({title:t.trim()},M).then((function(e){J(Object(Ue.a)({},Y,{title:e}))})));var t},onBlur:function(e){return t=e.target.value,void qr({title:t.trim()},M).then((function(e){J(Object(Ue.a)({},Y,{title:e})),$(Object(Ue.a)({},X,{title:!0}))}));var t}}),r.a.createElement(Zt,null,Y.title),r.a.createElement(br.a,{initialValue:c,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code",height:450},onChange:function(e){return function(e){i(e.target.getContent())}(e)}}),r.a.createElement(Se.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===M?"Please type in your nick here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:T,onChange:function(e){return _(e.target.value)},onInput:function(e){return t=e.target.value,void(X.user&&Xr({user:t.trim()},M).then((function(e){J(Object(Ue.a)({},Y,{user:e}))})));var t},onBlur:function(e){return t=e.target.value,void Xr({user:t.trim()},M).then((function(e){J(Object(Ue.a)({},Y,{user:e})),$(Object(Ue.a)({},X,{user:!0}))}));var t}}),r.a.createElement(Zt,null,Y.user),r.a.createElement("div",null,"en"===M?"Date of publication":"Data publikacji"),r.a.createElement(kr.a,{onChange:function(e){return B(e)},value:P}),r.a.createElement("div",null,"en"===M?"Add tags to post":"Dodaj etykiety do wpisu"),r.a.createElement(mr.a,{labelId:"demo-mutiple-chip-label",multiple:!0,value:h,onChange:function(e){g(e.target.value)},input:r.a.createElement(vr.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(jr.a,{key:e,label:e,className:t.chip})})))},MenuProps:eo},S.map((function(e){return r.a.createElement(pr.a,{key:e,value:e,style:to(e,h,n)},e)}))),r.a.createElement("div",null),r.a.createElement("br",null),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={text:c,title:e.contentTitle};Or(n).then((function(e){var n=e.status,a=e.data;if(201!==n)throw new Error("Error! Content not saved");w(a.content._id),Z(t.target)}))}},"en"===M?"Save Post":"Zapisz Wpis"),r.a.createElement(Je.a,{id:Boolean(F)?"simple-popover":void 0,open:Boolean(F),anchorEl:F,onClose:function(){Z(null),H([])},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(R))))}));function ao(){var e=Object(w.a)(["\n    .MuiInputBase-root{\n        color: white;\n      }\n    "]);return ao=function(){return e},e}var ro=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(""),c=Object(u.a)(l,2),i=c[0],s=c[1],m=localStorage.getItem("blognellaLang"),p=y.a.div(ao());return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null,r.a.createElement(mr.a,{value:n,onChange:function(e){o(e.target.value)}},r.a.createElement(pr.a,{value:"Main"},"en"===m?"Main":"Wpis"),r.a.createElement(pr.a,{value:"Chapter"},"en"===m?"Chapter":"Rozdzia\u0142"),r.a.createElement(pr.a,{value:"About"},"en"===m?"About":"O mnie"))),r.a.createElement("div",null),"Chapter"===n?r.a.createElement(dr,{setPostTitle:s}):r.a.createElement(r.a.Fragment,null),"Main"===n||"About"===n||i?r.a.createElement(no,{contentTitle:i||n}):r.a.createElement(r.a.Fragment,null))},oo=Object(i.f)((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],l=n[1],i=localStorage.getItem("blognellaLang"),s=function(){Be().then((function(e){var t=e.data.posts;return l(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){s()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa.a,null,o.map((function(e){return r.a.createElement(Ca.a,{key:e._id},r.a.createElement(Pa.a,{primary:r.a.createElement(c.b,{to:{pathname:"/panel/posts/".concat(e._id),state:{myId:e._id}}}," ",e.title," ")}),r.a.createElement(Ba.a,null,r.a.createElement(La.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){_e(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Post not deleted");s()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Na.a,null))))}))),r.a.createElement(c.b,{to:"/panel/posts/add"},"en"===i?"Add Post":"Dodaj Wpis"))})),lo=function(){return r.a.createElement(oo,null)},co=Object(hr.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),io={PaperProps:{style:{maxHeight:224,width:250}}};function uo(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var so,mo,po,fo,bo,ho,go,vo,jo=Object(i.f)((function(e){var t=co(),n=Object(gr.a)(),o=Object(a.useState)(e.post.content[0].text||""),l=Object(u.a)(o,2),c=l[0],i=l[1],s=Object(a.useState)(e.post.title||""),m=Object(u.a)(s,2),p=m[0],f=m[1],d=Object(a.useState)(e.post.tags||[]),b=Object(u.a)(d,2),h=b[0],g=b[1],v=Object(a.useState)([]),j=Object(u.a)(v,2),O=j[0],E=j[1],w=Object(a.useState)(new Date),y=Object(u.a)(w,2),k=y[0],S=y[1],x=Object(a.useState)(e.post.user),z=Object(u.a)(x,2),C=z[0],P=z[1],B=localStorage.getItem("blognellaLang"),L=localStorage.getItem("blognellaTheme")||"default",W=Object(a.useState)(null),T=Object(u.a)(W,2),_=T[0],M=T[1],D=Object(a.useState)([]),N=Object(u.a)(D,2),A=N[0],F=N[1],Z=Object(a.useState)({title:"",user:""}),U=Object(u.a)(Z,2),V=U[0],R=U[1],H=Object(a.useState)({}),G=Object(u.a)(H,2),K=G[0],Y=G[1];Object(a.useEffect)((function(){Ta().then((function(e){var t=e.data.tags;return E(t.map((function(e){return e.name})))})).catch((function(e){return console.log(e)}))}),[]);var J=function(){var t={date:k.toISOString(),tags:h,title:p.trim(),content:e.post.content[0]._id,_id:e.post._id,user:C.trim()};Yr(t,B).then((function(n){n.length>0?F(n):Te(t).then((function(t){var n=t.data,a=t.status;403!==a&&500!==a?e.history.push("/panel/posts"):F(403===a?vt(n,B):["en"===B?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"])}))}))};return r.a.createElement(Hr,{inputColor:I.text[L]},r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===B?"Title":"Tytu\u0142",style:{margin:8},placeholder:"en"===B?"Please type in your post title here":"Prosz\u0119 wpisz tytu\u0142 wpisu",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:p,onChange:function(e){return f(e.target.value)},onInput:function(e){return t=e.target.value,void(K.title&&qr({title:t.trim()},B).then((function(e){R(Object(Ue.a)({},V,{title:e}))})));var t},onBlur:function(e){return t=e.target.value,void qr({title:t.trim()},B).then((function(e){R(Object(Ue.a)({},V,{title:e})),Y(Object(Ue.a)({},K,{title:!0}))}));var t}}),r.a.createElement(Zt,null,V.title),r.a.createElement(br.a,{initialValue:c,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code",height:450},onChange:function(e){return function(e){i(e.target.getContent())}(e)}}),r.a.createElement(Se.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===B?"Please type in your nick here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:C,onChange:function(e){return P(e.target.value)},onInput:function(e){return t=e.target.value,void(K.user&&Xr({user:t.trim()},B).then((function(e){R(Object(Ue.a)({},V,{user:e}))})));var t},onBlur:function(e){return t=e.target.value,void Xr({user:t.trim()},B).then((function(e){R(Object(Ue.a)({},V,{user:e})),Y(Object(Ue.a)({},K,{user:!0}))}));var t}}),r.a.createElement(Zt,null,V.user),r.a.createElement("div",null,"en"===B?"Date of publication":"Data publikacji"),r.a.createElement(kr.a,{onChange:function(e){return S(e)},value:k}),r.a.createElement("div",null,"en"===B?"Add tags to post":"Dodaj etykiety do wpisu"),r.a.createElement(mr.a,{labelId:"demo-mutiple-chip-label",multiple:!0,value:h,onChange:function(e){g(e.target.value)},input:r.a.createElement(vr.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(jr.a,{key:e,label:e,className:t.chip})})))},MenuProps:io},O.map((function(e){return r.a.createElement(pr.a,{key:e,value:e,style:uo(e,h,n)},e)}))),r.a.createElement("div",null),r.a.createElement("br",null),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={text:c,title:e.contentTitle,_id:e.post.content[0]._id};Er(n).then((function(e){if(200!==e.status)throw new Error("Error! Content not saved");M(t.target),J()}))}},"en"===B?"Save Post":"Zapisz post"),r.a.createElement(Je.a,{id:Boolean(_)?"simple-popover":void 0,open:Boolean(_),anchorEl:_,onClose:function(){M(null),F([])},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(A))))})),Oo=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(),f=Object(u.a)(p,2),d=f[0],b=f[1],h=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){Le(e.match.params.id).then((function(e){var t=e.data.post,n=t.content[0].title,a="Main"===n||"About"===n?n:"Chapter";l(a),"Chapter"===a&&m(n),b(t)})).catch((function(e){return console.log(e)}))}),[]);var g="Main"===o||"About"===o?o:s;return(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Main"===o?"en"===h?"STORY":"WPIS":"About"===o?"en"===h?"ABOUT":"O MNIE":"en"===h?"CHAPTER":"ROZDZIA\u0141"),"Chapter"===o?r.a.createElement(dr,{storyTitle:s,setPostTitle:m}):r.a.createElement(r.a.Fragment,null),("Main"===o||"About"===o||s)&&d?r.a.createElement(jo,{contentTitle:g,post:d}):r.a.createElement(r.a.Fragment,null)))})),Eo=Object(i.f)((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],l=n[1],i=localStorage.getItem("blognellaLang"),s=function(){ve().then((function(e){var t=e.data.bookmarks;return l(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){s()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa.a,null,o.map((function(e){return r.a.createElement(Ca.a,{key:e.title},r.a.createElement(Pa.a,{primary:r.a.createElement(c.b,{to:{pathname:"/panel/bookmarks/".concat(e._id),state:{myId:e._id}}}," ",e.title," ")}),r.a.createElement(Ba.a,null,r.a.createElement(La.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){we(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Bookmark not deleted");s()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Na.a,null))))}))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/panel/bookmarks/add"},"en"===i?"Add Bookmark":"Dodaj Zak\u0142adk\u0119")))})),wo=function(){return r.a.createElement(Eo,null)},yo=(so=Object(yt.a)(),mo=Object(kt.a)(),po=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"title",fo,this),this.title=t.title},fo=Object(Et.a)(po.prototype,"title",[so,mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po),ko=function(e,t){return Xe(new yo(e)).then((function(e){if(e.length>0){var n=ht(e[0].constraints,t);return n.length>0?n[0]:""}return[]}))},So=(bo=Object(yt.a)(),ho=Object(kt.a)(),go=function e(t){Object(Ot.a)(this,e),Object(jt.a)(this,"title",vo,this),this.post=void 0,this.title=t.title},vo=Object(Et.a)(go.prototype,"title",[bo,ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go),xo=function(e,t){return Xe(new So(e)).then((function(e){return e.length>0?(console.log(e),ht(e[0].constraints,t)):[]}))};function zo(){var e=Object(w.a)(["\n    label{\n        /* color: white; */\n    }\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n    input{\n        color: white;\n    }\n"]);return zo=function(){return e},e}var Io=y.a.div(zo());function Co(){var e=Object(w.a)(["\n    .MuiInputBase-root{\n        color: white;\n      }\n    "]);return Co=function(){return e},e}var Po=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),d=f[0],b=f[1],h=localStorage.getItem("blognellaLang"),g=Object(a.useState)(null),v=Object(u.a)(g,2),j=v[0],O=v[1],E=Object(a.useState)([]),w=Object(u.a)(E,2),k=w[0],S=w[1],x=Object(a.useState)({title:""}),z=Object(u.a)(x,2),I=z[0],C=z[1],P=Object(a.useState)({}),B=Object(u.a)(P,2),L=B[0],W=B[1];Object(a.useEffect)((function(){Be().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title}));m(t)})).catch((function(e){return console.log(e)}))}),[]);var T=y.a.div(Co());return r.a.createElement(Io,null,r.a.createElement(T,null,r.a.createElement(mr.a,{value:o,onChange:function(e){l(e.target.value)}},s.map((function(e){return r.a.createElement(pr.a,{key:e._id,value:e._id},e.title)})))),r.a.createElement("div",null),r.a.createElement(Se.a,{label:"en"===h?"Bookmark title":"Tytu\u0142 zak\u0142adki",style:{margin:8},placeholder:"en"===h?"Please type in your bookmark title here":"Prosz\u0119 wpisz tytu\u0142 zak\u0142adki",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return b(e.target.value)},onInput:function(e){return t=e.target.value,void(L.title&&ko({title:t.trim()},h).then((function(e){C(Object(Ue.a)({},I,{title:e}))})));var t},onBlur:function(e){return t=e.target.value,void ko({title:t.trim()},h).then((function(e){C(Object(Ue.a)({},I,{title:e})),W(Object(Ue.a)({},L,{title:!0}))}));var t}}),r.a.createElement(Zt,null,I.title),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={title:d.trim(),post:o};xo(n,h).then((function(a){a.length>0?(S(a),O(t.target)):Oe(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/bookmarks"):403===r?(S(vt(a,h)),O(t.target)):(S(["en"===h?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),O(t.target))}))}))}},"en"===h?"Save Bookmark":"Zapisz Zak\u0142adk\u0119"),r.a.createElement(Je.a,{id:Boolean(j)?"simple-popover":void 0,open:Boolean(j),anchorEl:j,onClose:function(){return O(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(k))))})),Bo=function(){return r.a.createElement(Po,null)},Lo=Object(i.f)((function(e){var t=Object(a.useState)(e.bookmark.post.length>0?e.bookmark.post[0]._id:""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(e.bookmark.title||""),f=Object(u.a)(p,2),d=f[0],b=f[1],h=localStorage.getItem("blognellaLang"),g=Object(a.useState)(null),v=Object(u.a)(g,2),j=v[0],O=v[1],E=Object(a.useState)([]),w=Object(u.a)(E,2),y=w[0],k=w[1],S=Object(a.useState)({title:""}),x=Object(u.a)(S,2),z=x[0],I=x[1],C=Object(a.useState)({}),P=Object(u.a)(C,2),B=P[0],L=P[1];Object(a.useEffect)((function(){Be().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title}));m(t)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(Io,null,r.a.createElement(mr.a,{value:o,onChange:function(e){l(e.target.value)}},s.map((function(e){return r.a.createElement(pr.a,{key:e._id,value:e._id},e.title)}))),r.a.createElement("div",null),r.a.createElement(Se.a,{label:"en"===h?"Bookmark title":"Tytu\u0142 zakladki",style:{margin:8},placeholder:"en"===h?"Please type in your bookmark title here":"Prosz\u0119 wpisz tytu\u0142 zak\u0142adki",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return b(e.target.value)},onInput:function(e){return t=e.target.value,void(B.title&&ko({title:t.trim()},h).then((function(e){I(Object(Ue.a)({},z,{title:e}))})));var t},onBlur:function(e){return t=e.target.value,void ko({title:t.trim()},h).then((function(e){I(Object(Ue.a)({},z,{title:e})),L(Object(Ue.a)({},B,{title:!0}))}));var t}}),r.a.createElement(Zt,null,z.title),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={_id:e.bookmark._id,title:d.trim(),post:o};xo(n,h).then((function(a){a.length>0?(k(a),O(t.target)):Ee(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/bookmarks"):403===r?(k(vt(a,h)),O(t.target)):(k(["en"===h?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),O(t.target))}))}))}},"en"===h?"Save Bookmark":"Zapisz Zak\u0142adk\u0119"),r.a.createElement(Je.a,{id:Boolean(j)?"simple-popover":void 0,open:Boolean(j),anchorEl:j,onClose:function(){return O(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(y))))})),Wo=Object(i.f)((function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),o=n[0],l=n[1];return Object(a.useEffect)((function(){je(e.match.params.id).then((function(e){var t=e.data.bookmark;l(t)})).catch((function(e){return console.log(e)}))}),[]),o?r.a.createElement(Lo,{bookmark:o}):r.a.createElement(r.a.Fragment,null)})),To=Object(i.f)((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],l=n[1],i=localStorage.getItem("blognellaLang"),s=Object(a.useState)(""),m=Object(u.a)(s,2),p=m[0],f=m[1],d=function(){g().then((function(e){var t=e.data.users;return l(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){!function(){if(o.length>0){var e=localStorage.getItem("blognellaId"),t=o.find((function(t){return t._id===e}));t&&f(t.nick||"")}}()}),[o]),Object(a.useEffect)((function(){d()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa.a,null,o.map((function(e){return r.a.createElement(Ca.a,{key:e.nick},r.a.createElement(Pa.a,{primary:r.a.createElement(c.b,{to:{pathname:"/panel/users/".concat(e._id),state:{myId:e._id}}}," ",e.nick," ")}),r.a.createElement(Ba.a,null,e.nick!==p?r.a.createElement(La.a,{style:{color:"white"},edge:"end","aria-label":"delete",onClick:function(){return function(e){E(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! User not deleted");d()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Na.a,null)):r.a.createElement("div",null)))}))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/panel/users/add"},"en"===i?"Add User":"Dodaj u\u017cytkownika")))})),_o=function(){return r.a.createElement(To,null)};function Mo(){var e=Object(w.a)(["\n    label{\n        /* color: white; */\n    }\n    .MuiInputBase-input{\n        /* color: #dfdfdf; */\n    }\n    input{\n        color: white;\n    }\n"]);return Mo=function(){return e},e}var Do=y.a.div(Mo()),No=["loggedUser","admin"],Ao=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),d=f[0],b=f[1],h=Object(a.useState)(""),g=Object(u.a)(h,2),v=g[0],O=g[1],E=Object(a.useState)(""),w=Object(u.a)(E,2),y=w[0],k=w[1],S=localStorage.getItem("blognellaLang"),x=Object(a.useState)(null),z=Object(u.a)(x,2),I=z[0],C=z[1],P=Object(a.useState)([]),B=Object(u.a)(P,2),L=B[0],W=B[1],T=Object(a.useState)({nick:"",login:"",password:"",email:""}),_=Object(u.a)(T,2),M=_[0],D=_[1],N=Object(a.useState)({}),A=Object(u.a)(N,2),F=A[0],Z=A[1];return r.a.createElement(Do,null,r.a.createElement(Se.a,{label:"Nick",style:{margin:8},placeholder:"en"===S?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return l(e.target.value)},onInput:function(e){return t=e.target.value,void(F.nick&&ka({nick:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{nick:e}))})));var t},onBlur:function(e){return t=e.target.value,void ka({nick:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{nick:e})),Z(Object(Ue.a)({},F,{nick:!0}))}));var t}}),r.a.createElement(Zt,null,M.nick),r.a.createElement(Se.a,{label:"Login",style:{margin:8},placeholder:"en"===S?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value)},onInput:function(e){return t=e.target.value,void(F.login&&It({login:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{login:e}))})));var t},onBlur:function(e){return t=e.target.value,void It({login:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{login:e})),Z(Object(Ue.a)({},F,{login:!0}))}));var t}}),r.a.createElement(Zt,null,M.login),r.a.createElement(Se.a,{label:"en"===S?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===S?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"password",onChange:function(e){return b(e.target.value)},onInput:function(e){return t=e.target.value,void(F.password&&Pt({password:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{password:e}))})));var t},onBlur:function(e){return t=e.target.value,void Pt({password:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{password:e})),Z(Object(Ue.a)({},F,{password:!0}))}));var t}}),r.a.createElement(Zt,null,M.password),r.a.createElement(mr.a,{value:v,onChange:function(e){O(e.target.value)}},No.map((function(e){return r.a.createElement(pr.a,{key:e,value:e},e)}))),r.a.createElement("div",null),r.a.createElement(Se.a,{label:"Email",style:{margin:8},placeholder:"en"===S?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return k(e.target.value)},onInput:function(e){return t=e.target.value,void(F.email&&xa({email:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{email:e}))})));var t},onBlur:function(e){return t=e.target.value,void xa({email:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{email:e})),Z(Object(Ue.a)({},F,{email:!0}))}));var t}}),r.a.createElement(Zt,null,M.email),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={nick:o.trim(),login:s.trim(),password:d.trim(),role:v,email:y.trim()};wa(n,S).then((function(a){a.length>0?(W(a),C(t.target)):j(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/users"):403===r?(W(vt(a,S)),C(t.target)):(W(["en"===S?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),C(t.target))}))}))}},"en"===S?"Save User":"Zapisz U\u017cytkownika"),r.a.createElement(Je.a,{id:Boolean(I)?"simple-popover":void 0,open:Boolean(I),anchorEl:I,onClose:function(){return C(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(L))))})),Fo=function(){return r.a.createElement(Ao,null)},Zo=["loggedUser","admin"],Uo=Object(i.f)((function(e){var t=Object(a.useState)(e.user.nick),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(e.user.login),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(e.user.password),f=Object(u.a)(p,2),d=f[0],b=f[1],h=Object(a.useState)(e.user.role),g=Object(u.a)(h,2),v=g[0],j=g[1],E=Object(a.useState)(e.user.email),w=Object(u.a)(E,2),y=w[0],k=w[1],S=localStorage.getItem("blognellaLang"),x=Object(a.useState)(null),z=Object(u.a)(x,2),I=z[0],C=z[1],P=Object(a.useState)([]),B=Object(u.a)(P,2),L=B[0],W=B[1],T=Object(a.useState)({nick:"",login:"",password:"",email:""}),_=Object(u.a)(T,2),M=_[0],D=_[1],N=Object(a.useState)({}),A=Object(u.a)(N,2),F=A[0],Z=A[1];return r.a.createElement(Do,null,r.a.createElement(Se.a,{label:"Nick",style:{margin:8},placeholder:"en"===S?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:o,onChange:function(e){return l(e.target.value)},onInput:function(e){return t=e.target.value,void(F.nick&&ka({nick:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{nick:e}))})));var t},onBlur:function(e){return t=e.target.value,void ka({nick:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{nick:e})),Z(Object(Ue.a)({},F,{nick:!0}))}));var t}}),r.a.createElement(Zt,null,M.nick),r.a.createElement(Se.a,{label:"Login",style:{margin:8},placeholder:"en"===S?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:s,onChange:function(e){return m(e.target.value)},onInput:function(e){return t=e.target.value,void(F.login&&It({login:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{login:e}))})));var t},onBlur:function(e){return t=e.target.value,void It({login:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{login:e})),Z(Object(Ue.a)({},F,{login:!0}))}));var t}}),r.a.createElement(Zt,null,M.login),r.a.createElement(Se.a,{label:"en"===S?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===S?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"password",defaultValue:d,onChange:function(e){return b(e.target.value)},onInput:function(e){return t=e.target.value,void(F.password&&Pt({password:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{password:e}))})));var t},onBlur:function(e){return t=e.target.value,void Pt({password:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{password:e})),Z(Object(Ue.a)({},F,{password:!0}))}));var t}}),r.a.createElement(Zt,null,M.password),r.a.createElement(mr.a,{value:v,onChange:function(e){j(e.target.value)}},Zo.map((function(e){return r.a.createElement(pr.a,{key:e,value:e},e)}))),r.a.createElement("div",null),r.a.createElement(Se.a,{label:"Email",style:{margin:8},placeholder:"en"===S?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:y,onChange:function(e){return k(e.target.value)},onInput:function(e){return t=e.target.value,void(F.email&&xa({email:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{email:e}))})));var t},onBlur:function(e){return t=e.target.value,void xa({email:t.trim()},S).then((function(e){D(Object(Ue.a)({},M,{email:e})),Z(Object(Ue.a)({},F,{email:!0}))}));var t}}),r.a.createElement(Zt,null,M.email),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist();var n={_id:e.user._id,nick:o.trim(),login:s.trim(),password:d.trim(),role:v,email:y.trim()};wa(n,S).then((function(a){a.length>0?(W(a),C(t.target)):O(n).then((function(n){var a=n.data,r=n.status;403!==r&&500!==r?e.history.push("/panel/users"):403===r?(W(vt(a,S)),C(t.target)):(W(["en"===S?"There are server problems":"Wyst\u0105pi\u0142y problemy z serwerem"]),C(t.target))}))}))}},"en"===S?"Save User":"Zapisz U\u017cytkownika"),r.a.createElement(Je.a,{id:Boolean(I)?"simple-popover":void 0,open:Boolean(I),anchorEl:I,onClose:function(){return C(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(L))))})),Vo=Object(i.f)((function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),o=n[0],l=n[1];return Object(a.useEffect)((function(){v(e.match.params.id).then((function(e){var t=e.data.user;l(t)})).catch((function(e){return console.log(e)}))}),[]),o?r.a.createElement(Uo,{user:o}):r.a.createElement(r.a.Fragment,null)})),Ro=Object(i.f)((function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],m=i[1],p=function(e){Be().then((function(t){var n=t.data.posts.filter((function(t){return t.content[0].title===e}));m(n||[])})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){Le(e.match.params.id).then((function(e){var t=e.data.post;JSON.stringify(t)!==JSON.stringify({})&&(l(t),p(t.title))})).catch((function(e){return console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(zn,{post:o,postChapters:s}):r.a.createElement(r.a.Fragment,null))})),Ho=function(){return r.a.createElement(Ro,null)},Go=Object(i.f)((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),d=f[0],b=f[1],h=localStorage.getItem("blognellaLang"),v=Object(a.useState)(null),j=Object(u.a)(v,2),E=j[0],w=j[1],y=Object(a.useState)([]),k=Object(u.a)(y,2),S=k[0],x=k[1],z=Object(a.useState)({nick:"",login:"",password:"",email:""}),I=Object(u.a)(z,2),C=I[0],P=I[1],B=Object(a.useState)({}),L=Object(u.a)(B,2),W=L[0],T=L[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge,null,r.a.createElement(Ke,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"en"===h?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return b(e.target.value)},onInput:function(e){return t=e.target.value,void(W.email&&xa({email:t.trim()},h).then((function(e){P(Object(Ue.a)({},C,{email:e}))})));var t},onBlur:function(e){return t=e.target.value,void xa({email:t.trim()},h).then((function(e){P(Object(Ue.a)({},C,{email:e})),T(Object(Ue.a)({},W,{email:!0}))}));var t}})),r.a.createElement(Zt,null,C.email),r.a.createElement(Ke,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===h?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return l(e.target.value)},onInput:function(e){return t=e.target.value,void(W.login&&It({login:t.trim()},h).then((function(e){P(Object(Ue.a)({},C,{login:e}))})));var t},onBlur:function(e){return t=e.target.value,void It({login:t.trim()},h).then((function(e){P(Object(Ue.a)({},C,{login:e})),T(Object(Ue.a)({},W,{login:!0}))}));var t}})),r.a.createElement(Zt,null,C.login),r.a.createElement(Ke,null,r.a.createElement(Se.a,{id:"standard-full-width",label:"en"===h?"New Password":"Nowe has\u0142o",style:{margin:8},placeholder:"en"===h?"Please type in your new password here":"Prosz\u0119 wpisz swoje nowe has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},type:"password",onChange:function(e){return m(e.target.value)},onInput:function(e){return t=e.target.value,void(W.password&&Pt({password:t.trim()},h).then((function(e){P(Object(Ue.a)({},C,{password:e}))})));var t},onBlur:function(e){return t=e.target.value,void Pt({password:t.trim()},h).then((function(e){P(Object(Ue.a)({},C,{password:e})),T(Object(Ue.a)({},W,{password:!0}))}));var t}})),r.a.createElement(Zt,null,C.password),r.a.createElement(Ye,null,r.a.createElement("div",null),r.a.createElement(ke.a,{variant:"contained",color:"primary",onClick:function(t){t.persist(),g().then((function(n){var a=n.data.users.find((function(e){return e.login===o&&e.email===d}));a&&""===C.password?(!function(e){var t={_id:e._id,nick:e.nick,login:e.login,password:s.trim(),role:e.role,email:e.email};O(t)}(a),localStorage.setItem("blognellaId",a._id),e.history.push("/")):(x(["en"===h?"Invalid data":"Niepoprawne dane"]),w(t.target))})).catch((function(e){return console.log(e)}))}},"en"===h?"Update Password":"Aktualizuj Has\u0142o"),r.a.createElement(Je.a,{id:Boolean(E)?"simple-popover":void 0,open:Boolean(E),anchorEl:E,onClose:function(){return w(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,null,gt(S))))))})),Ko=function(){return r.a.createElement(Go,null)},Yo=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],l=n[1],i=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){Be().then((function(t){var n=t.data.posts.filter((function(t){return t.title===e.search||t.tags.includes(e.search)}));l(n)})).catch((function(e){return console.log(e)}))}),[e.search]);return 0===o.length?r.a.createElement("div",null,"en"===i?"There is no post that meets the expected criteria":"Nie ma wpis\xf3w spe\u0142niaj\u0105cych podane kryteria"):r.a.createElement(Wa.a,null,o.map((function(e){return r.a.createElement(Ca.a,{key:e._id},r.a.createElement(Pa.a,{primary:r.a.createElement(c.b,{to:{pathname:"/ui/post/".concat(e._id)}}," ",e.title," ")}))})))},Jo=Object(i.f)((function(e){return e.location.state&&e.location.state.search?r.a.createElement(Yo,{search:e.location.state.search}):r.a.createElement("div",null,"Nothing to search")}));function qo(){return r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"}," ",r.a.createElement(Ze,{page:Cn})," "),r.a.createElement(i.a,{path:"/register"},r.a.createElement(Ze,{page:Ia})),r.a.createElement(i.a,{path:"/login/forget"},r.a.createElement(Ze,{page:Ko})),r.a.createElement(i.a,{path:"/login"},r.a.createElement(Ze,{page:Vt})),r.a.createElement(i.a,{path:"/search"},r.a.createElement(Ze,{page:Jo})),r.a.createElement(i.a,{path:"/ui/post/:id"},r.a.createElement(Ze,{page:Ho})),r.a.createElement(i.a,{path:"/panel/tags"},r.a.createElement(Ze,{page:er})),r.a.createElement(i.a,{path:"/panel/posts/add"},r.a.createElement(Ze,{page:ro})),r.a.createElement(i.a,{path:"/panel/posts/:id"},r.a.createElement(Ze,{page:Oo})),r.a.createElement(i.a,{path:"/panel/posts"},r.a.createElement(Ze,{page:lo})),r.a.createElement(i.a,{path:"/panel/bookmarks/add"},r.a.createElement(Ze,{page:Bo})),r.a.createElement(i.a,{path:"/panel/bookmarks/:id"},r.a.createElement(Ze,{page:Wo})),r.a.createElement(i.a,{path:"/panel/bookmarks"},r.a.createElement(Ze,{page:wo})),r.a.createElement(i.a,{path:"/panel/users/add"},r.a.createElement(Ze,{page:Fo})),r.a.createElement(i.a,{path:"/panel/users/:id"},r.a.createElement(Ze,{page:Vo})),r.a.createElement(i.a,{path:"/panel/users"},r.a.createElement(Ze,{page:_o})),r.a.createElement(i.a,{path:"/panel/layouts"},r.a.createElement(Ze,{page:sr}))))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(qo,null)),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.24b1c9e8.chunk.js.map