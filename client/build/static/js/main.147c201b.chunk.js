(this.webpackJsonpjotali=this.webpackJsonpjotali||[]).push([[0],{108:function(e,t,n){e.exports=n(158)},113:function(e,t,n){},140:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(17),c=n.n(l),o=(n(113),n(9)),u=n(20),i=n(3),s=n(7),m=n.n(s),p=n(13),f=n(14),d=n.n(f),g=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/users");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/user",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=n(18),O=n(19);function y(){var e=Object(j.a)(["\n    max-width: 824px;\n    margin: 0rem auto 0rem auto;\n"]);return y=function(){return e},e}var k=O.a.main(y());function w(){var e=Object(j.a)(["\n    border-bottom: 1px solid black;\n"]);return w=function(){return e},e}function S(){var e=Object(j.a)(["\n    padding-top: 1.8rem;\n    padding-right: 0.5rem;\n"]);return S=function(){return e},e}function P(){var e=Object(j.a)(["\n  border-right: 1px solid black;\n  margin-right: 1rem;\n  height: 100%;\n"]);return P=function(){return e},e}var I=O.a.div(P()),x=O.a.div(S()),C=O.a.span(w()),z=function(){var e=localStorage.getItem("blognellaLang");return(r.a.createElement(I,null,r.a.createElement(x,null,r.a.createElement(C,null,r.a.createElement(o.b,{to:"/panel/posts"},"en"===e?"POSTS":"WPISY"))),r.a.createElement(x,null,r.a.createElement(C,null,r.a.createElement(o.b,{to:"/panel/bookmarks"},"en"===e?"BOOKMARKS":"ZAK\u0141ADKI"))),r.a.createElement(x,null,r.a.createElement(C,null,r.a.createElement(o.b,{to:"/panel/users"},"en"===e?"USERS":"U\u017bYTKOWNICY"))),r.a.createElement(x,null,r.a.createElement(C,null,r.a.createElement(o.b,{to:"/panel/tags"},"en"===e?"TAGS":"ETYKIETY")))))};function L(){var e=Object(j.a)(["\n    display:flex;\n    height: 100%;\n    /* flex-direction: column; */\n"]);return L=function(){return e},e}function _(){var e=Object(j.a)(["\n    display: flex;\n    min-height: 40rem;\n    background-color: grey;\n    justify-content: space-between;\n    flex-grow: 1;\n    padding-top: 1rem;\n"]);return _=function(){return e},e}function W(){var e=Object(j.a)(["\n    width:20%;\n    border-left: 1px solid black;\n    display: flex;\n    flex-direction: column;\n    padding: 0rem 1rem;\n"]);return W=function(){return e},e}function F(){var e=Object(j.a)(["\n    display:flex;\n    background-color:#292929;\n"]);return F=function(){return e},e}function T(){var e=Object(j.a)(["\n    display:flex;\n    justify-content: flex-end;\n"]);return T=function(){return e},e}function D(){var e=Object(j.a)(["\n    color: #ffffff;\n    margin: 1rem;\n"]);return D=function(){return e},e}function A(){var e=Object(j.a)(["\n    display: flex;\n"]);return A=function(){return e},e}function N(){var e=Object(j.a)(["\n    display:flex;\n    justify-content: space-between;\n    align-items: baseline;\n"]);return N=function(){return e},e}function M(){var e=Object(j.a)(["\n    font-family: Roboto;\n    font-size: 3.5rem;\n"]);return M=function(){return e},e}var Z=O.a.div(M()),U=O.a.div(N()),R=O.a.div(A()),V=O.a.div(D()),B=O.a.div(T()),H=O.a.div(F()),K=O.a.div(W()),J=O.a.div(_()),Y=O.a.div(L()),G=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/bookmarks");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/bookmark/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/bookmark",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/bookmark/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/bookmark/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=localStorage.getItem("blognellaLang");0===n.length&&G().then((function(e){var t=e.data.bookmarks;t.length!==n.length&&l(t)})).catch((function(e){return console.log(e)}));return r.a.createElement(H,null,r.a.createElement(V,null,r.a.createElement(o.b,{to:"/"},"en"===c?"Home":"G\u0142\xf3wna")),n.map((function(e){return r.a.createElement(V,{key:e._id},r.a.createElement(o.b,{to:e.post.length>0?"/post/".concat(e.post[0]._id):"/"},e.title))}))||[])},te=n(198),ne=n(204),ae=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===o?"Search":"Wyszukaj",style:{margin:8},placeholder:"en"===o?"Please type in tag or title here":"Prosz\u0119 wpisz etykiet\u0119 lub tytu\u0142",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return c(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){e.history.push({pathname:"/search",state:{search:l}})}},"en"===o?"Search":"Wyszukaj"))})),re=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),m=s[0],p=s[1],f=localStorage.getItem("blognellaLang");localStorage.getItem("blognellaId")&&h(localStorage.getItem("blognellaId")||"").then((function(e){var t=e.data.user;l||c(t.nick),m||p(t.role)})).catch((function(e){return console.log(e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,r.a.createElement(V,null,r.a.createElement(ae,null)),ge.includes(e.pageName)&&"admin"===m?r.a.createElement(V,null,r.a.createElement(o.b,{to:"/panel/posts"},"Panel")):r.a.createElement(r.a.Fragment,null),l?r.a.createElement(V,{onClick:function(){localStorage.removeItem("blognellaId")}},r.a.createElement(o.b,{to:"/"},"en"===f?"Logout":"Wyloguj"," ",l)):r.a.createElement(V,null,r.a.createElement(o.b,{to:"/login"},"en"===f?"Login":"Zaloguj")),r.a.createElement(V,null,r.a.createElement(o.b,{to:"/register"},"en"===f?"Register":"Zarejestruj")),r.a.createElement(V,{onClick:function(){"en"===(localStorage.getItem("blognellaLang")||"en")?localStorage.setItem("blognellaLang","pl"):localStorage.setItem("blognellaLang","en"),window.location.reload()}},localStorage.getItem("blognellaLang")||"en")),r.a.createElement(ee,null))},le=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,r.a.createElement(Z,null,"Kiranella"),r.a.createElement(R,null,r.a.createElement("div",null))),r.a.createElement(re,e))},ce=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/posts");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/post/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/post",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/post/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/post/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),me=function(e){var t=new Date(e.post.date).toDateString();return e.post.date>(new Date).toISOString()?r.a.createElement("div",null,"It will be avaiable soon - ",t):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.post.content[0].text}}))},pe=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=localStorage.getItem("blognellaLang");return 0===n.length&&ce().then((function(e){var t=e.data.posts.filter((function(e){return"About"===e.content[0].title}));l(t)})).catch((function(e){return console.log(e)})),r.a.createElement(K,null,n.length>0?r.a.createElement(me,{post:n[0]}):r.a.createElement("div",null,"en"===c?"There is no About post":"Brak wpisu o mnie"))};n(140);function fe(){var e=Object(j.a)(["\n    /* display: flex; */\n    /* justify-content: space-between; */\n    margin: 0rem 1rem;\n    width:80%;\n"]);return fe=function(){return e},e}var de=O.a.div(fe()),ge=["/register","/login/forget","/login","/post/:id","/search","/"],he=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1];Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("blognellaId")||"";e?h(e).then((function(e){var t=e.data.user;l!==t.role&&c(t.role)})).catch((function(e){return console.log(e)})):c("guest")}(),localStorage.getItem("blognellaLang")||localStorage.setItem("blognellaLang","en")}),[e]),"/login"===e.match.path&&localStorage.getItem("blognellaId")&&e.history.push("/"),!ge.includes(e.match.path)&&"admin"!==l&&l&&e.history.push("/");var o=e.page;return(r.a.createElement(k,null,r.a.createElement(le,{pageName:e.match.path}),r.a.createElement(J,null,r.a.createElement(de,null,r.a.createElement(Y,null,l&&r.a.createElement(r.a.Fragment,null,ge.includes(e.match.path)?r.a.createElement(r.a.Fragment,null):r.a.createElement(z,null),r.a.createElement("div",null,r.a.createElement(o,null))))),ge.includes(e.match.path)?r.a.createElement(pe,null):r.a.createElement(r.a.Fragment,null))))}));function be(){var e=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0rem 3rem;\n"]);return be=function(){return e},e}function Ee(){var e=Object(j.a)(["\n    display: flex;\n    flex-grow: 1;\n"]);return Ee=function(){return e},e}function ve(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #8a8a8a;;\n  color: white;\n  border: 2px solid white;\n"]);return ve=function(){return e},e}var je=O.a.div(ve()),Oe=O.a.div(Ee()),ye=O.a.div(be()),ke=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),m=s[0],p=s[1],f=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null,r.a.createElement(Oe,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===f?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return c(e.target.value)}})),r.a.createElement(Oe,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===f?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===f?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)}})),r.a.createElement(ye,null,r.a.createElement("div",null,"en"===f?"Forgot password? Click ":"Zapomnia\u0142es has\u0142a? Kliknij ",r.a.createElement(o.b,{to:"/login/forget"},"en"===f?"here":"tutaj")),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){g().then((function(t){var n=t.data.users.find((function(e){return e.login===l&&e.password===m}));n&&(localStorage.setItem("blognellaId",n._id),e.history.push("/"))})).catch((function(e){return console.log(e)}))}},"en"===f?"Login":"Zaloguj"))))})),we=function(){return r.a.createElement(ke,null)},Se=n(101),Pe=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/comment",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/comment/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/comment/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ce=Object(u.f)((function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(e.comment.text),u=Object(i.a)(o,2),s=u[0],m=u[1],p=localStorage.getItem("blognellaLang"),f="guest"!==e.role&&(e.comment.user===e.nick||"admin"===e.role);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,e.comment.user," ",new Date(e.comment.date).toDateString(),f?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){c(!l)}},"Edit"),r.a.createElement("span",{onClick:function(){e.updatePostToDeleteComment(e.comment._id),xe(e.comment._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Comment not deleted")})).catch((function(e){return console.log(e)}))}},"Delete")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(ne.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"en"===p?"Please type in your comment here":"Prosz\u0119 wpisz komentarz",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!l},defaultValue:s,onChange:function(e){return m(e.target.value)}}),l?r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){c(!l);var t={_id:e.comment._id,date:e.comment.date,text:s,user:e.comment.user};Ie(t).then((function(e){if(200!==e.status)throw new Error("Error! Comment not saved")})).catch((function(e){return console.log(e)})),window.location.reload()}},"en"===p?"Save Comment":"Zapisz Komentarz"):r.a.createElement(r.a.Fragment,null))})),ze=function(e){var t=Object(a.useState)("Guest"),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)("guest"),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(""),f=Object(i.a)(p,2),d=f[0],g=f[1],b=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){var e=localStorage.getItem("blognellaId");e?function(e){h(e).then((function(e){var t=e.data.user;c(t.nick),m(t.role)})).catch((function(e){return console.log(e)}))}(e):(c("Guest"),m("guest"))}),[e]);var E=function(t){var n=e.post.comment.filter((function(e){return e!==t})),a={date:e.post.date,tags:e.post.tags,title:e.post.title,content:e.post.content[0]._id,_id:e.post._id,user:e.post.user,comment:n};ie(a).then((function(e){if(200!==e.status)throw new Error("Error! Post not saved")})).catch((function(e){return console.log(e)}))};return r.a.createElement(r.a.Fragment,null,e.post.comment.length<1?r.a.createElement("div",null,"en"===b?"No comments":"Brak komentarzy"):e.post.comment.map((function(e){return r.a.createElement(Ce,{key:e._id,nick:l,role:s,comment:e,updatePostToDeleteComment:E})})),r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===b?"Add Comment":"Dodaj komentarz",style:{margin:8},placeholder:"en"===b?"Please type in your comment here":"Prosz\u0119 wpisz komentarz",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return g(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){var t={text:d,date:(new Date).toISOString(),user:l};Pe(t).then((function(t){var n=t.status,a=t.data;if(201!==n)throw new Error("Error! Comment not saved");var r={date:e.post.date,tags:e.post.tags,title:e.post.title,content:e.post.content[0]._id,_id:e.post._id,user:e.post.user,comment:[].concat(Object(Se.a)(e.post.comment),[a.comment._id])};ie(r).then((function(e){if(200!==e.status)throw new Error("Error! Post not saved")}))})).catch((function(e){return console.log(e)})),window.location.reload()}},"en"===b?"Add Comment":"Dodaj Komentarz"))},Le=function(e){return r.a.createElement(o.b,{to:"/post/".concat(e.post._id)},e.post.title)},_e=function(e){var t=new Date(e.post.date).toDateString(),n=localStorage.getItem("blognellaLang");return e.post.date>(new Date).toISOString()?r.a.createElement("div",null,"en"===n?"It will be avaiable soon - ":"Dost\u0119pne wkr\xf3tce - ",t):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t),r.a.createElement("div",null,e.post.title),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.post.content[0].text}}),r.a.createElement("div",null,"en"===n?"Chapters":"Rozdzia\u0142y"),e.postChapters.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(Le,{post:e}))})),r.a.createElement("div",null,r.a.createElement("span",null,"en"===n?"Tags: ":"Etykiety: "),e.post.tags.map((function(e){return r.a.createElement("span",{key:e},e)}))),r.a.createElement("div",null,"en"===n?"Added by ":"Dodane przez ",e.post.user),r.a.createElement(ze,{post:e.post}))},We=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){ce().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title})).reduce((function(e,t){return JSON.stringify(e)===JSON.stringify({})?t:e.date<t.date?t:e}),{});l(t)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,n?r.a.createElement(_e,{post:n,postChapters:[]}):r.a.createElement(r.a.Fragment,null))},Fe=function(){return r.a.createElement(We,null)};function Te(){var e=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0rem 3rem;\n"]);return Te=function(){return e},e}function De(){var e=Object(j.a)(["\n    display: flex;\n    flex-grow: 1;\n"]);return De=function(){return e},e}function Ae(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #8a8a8a;;\n  color: white;\n  border: 2px solid white;\n"]);return Ae=function(){return e},e}var Ne=O.a.div(Ae()),Me=O.a.div(De()),Ze=O.a.div(Te()),Ue=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),m=s[0],p=s[1],f=Object(a.useState)(""),d=Object(i.a)(f,2),g=d[0],h=d[1],E=Object(a.useState)(""),v=Object(i.a)(E,2),j=v[0],O=v[1],y=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null,r.a.createElement(Me,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===y?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return c(e.target.value)}})),r.a.createElement(Me,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===y?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)}})),r.a.createElement(Me,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===y?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===y?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return h(e.target.value)}})),r.a.createElement(Me,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"en"===y?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return O(e.target.value)}})),r.a.createElement(Ze,null,r.a.createElement("div",null,"en"===y?"Have already account? ":"Masz ju\u017c konto?",r.a.createElement(o.b,{to:"/login"},"en"===y?"Login":"Zaloguj si\u0119")),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){console.log(l),console.log(m),console.log(g),console.log(j),b({nick:l,login:m,password:g,email:j,role:"loggedUser"}).then((function(e){var t=e.status,n=e.data;if(console.log("zwrotna data"),console.log(n),201!==t)throw new Error("Error! User not saved")})).catch((function(e){return console.log(e)})),e.history.push("/")}},"en"===y?"Register":"Zarejestruj si\u0119"))))})),Re=function(){return r.a.createElement(Ue,null)},Ve=n(162),Be=n(206),He=n(199),Ke=n(200),Je=n(197),Ye=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/tags");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/tag",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/tag/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Qe=n(34),Xe=n.n(Qe),$e=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1],p=localStorage.getItem("blognellaLang"),f=function(){Ye().then((function(e){var t=e.data.tags;return m(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){f()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,null,s.map((function(e){return r.a.createElement(Ve.a,{key:e.name},r.a.createElement(Be.a,{primary:e.name}),r.a.createElement(He.a,null,r.a.createElement(Ke.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){qe(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Tag not deleted");f()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Xe.a,null))))}))),r.a.createElement("div",null,r.a.createElement(ne.a,{label:"en"===p?"Tag":"Etykieta",style:{margin:8},placeholder:"en"===p?"Please type in your tag here":"Prosz\u0119 wpisz etykiet\u0119",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return c(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){Ge({name:l}).then((function(e){if(201!==e.status)throw new Error("Error! Tag not saved");f()})),e.history.push("/panel/tags")}},"en"===p?"Add Tag":"Dodaj etykiet\u0119")))})),et=function(){return r.a.createElement($e,null)},tt=n(203),nt=n(201),at=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],m=u[1],p=function(){ce().then((function(e){return function(e){var t=e.filter((function(e){return"Main"===e.content[0].title})).map((function(e){return e.title}));console.log(t),c(t)}(e.data.posts)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){p()}),[]),Object(a.useEffect)((function(){""===s&&e.storyTitle&&m(e.storyTitle)}),[e.storyTitle]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{value:s,onChange:function(t){m(t.target.value),e.setPostTitle(t.target.value)}},l.map((function(e){return r.a.createElement(nt.a,{key:e,value:e},e)}))))},rt=n(66),lt=n(202),ct=n(47),ot=n(192),ut=n(207),it=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/content",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/content/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:[],status:403});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),mt=n(65),pt=n.n(mt),ft=Object(lt.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),dt={PaperProps:{style:{maxHeight:224,width:250}}};function gt(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var ht=Object(u.f)((function(e){var t=ft(),n=Object(ct.a)(),l=Object(a.useState)("<p>React is really <em>nice</em>!</p>"),c=Object(i.a)(l,2),o=c[0],u=c[1],s=Object(a.useState)(""),m=Object(i.a)(s,2),p=m[0],f=m[1],d=Object(a.useState)([]),g=Object(i.a)(d,2),b=g[0],E=g[1],v=Object(a.useState)(void 0),j=Object(i.a)(v,2),O=j[0],y=j[1],k=Object(a.useState)([]),w=Object(i.a)(k,2),S=w[0],P=w[1],I=Object(a.useState)(new Date),x=Object(i.a)(I,2),C=x[0],z=x[1],L=Object(a.useState)(""),_=Object(i.a)(L,2),W=_[0],F=_[1],T=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){O&&(D(),y(void 0))}),[O]);Object(a.useEffect)((function(){Ye().then((function(e){var t=e.data.tags;return P(t.map((function(e){return e.name})))})).catch((function(e){return console.log(e)})),function(){var e=localStorage.getItem("blognellaId");e&&h(e).then((function(e){var t=e.data.user;F(t.nick)})).catch((function(e){return console.log(e)}))}()}),[]);var D=function(){var t={date:C.toISOString(),tags:b,title:p,content:O,user:W};ue(t),e.history.push("/panel/posts")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===T?"Title":"Tytu\u0142",style:{margin:8},placeholder:"en"===T?"Please type in your post title here":"Prosz\u0119 wpisz tytu\u0142 wpisu",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return f(e.target.value)}}),r.a.createElement(rt.a,{initialValue:o,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code"},onChange:function(e){return function(e){u(e.target.getContent())}(e)}}),r.a.createElement(ne.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===T?"Please type in your nick here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:W,onChange:function(e){return F(e.target.value)}}),r.a.createElement("div",null,"en"===T?"Date of publication":"Data publikacji"),r.a.createElement(pt.a,{onChange:function(e){return z(e)},value:C}),r.a.createElement("div",null,"en"===T?"Add tags to post":"Dodaj etykiety do wpisu"),r.a.createElement(tt.a,{labelId:"demo-mutiple-chip-label",multiple:!0,value:b,onChange:function(e){E(e.target.value)},input:r.a.createElement(ot.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(ut.a,{key:e,label:e,className:t.chip})})))},MenuProps:dt},S.map((function(e){return r.a.createElement(nt.a,{key:e,value:e,style:gt(e,b,n)},e)}))),r.a.createElement("div",null),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){var t={text:o,title:e.contentTitle};it(t).then((function(e){var t=e.status,n=e.data;if(201!==t)throw new Error("Error! Post not saved");y(n.content._id)}))}},"en"===T?"Save Post":"Zapisz Wpis"))})),bt=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),u=o[0],s=o[1],m=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{value:n,onChange:function(e){l(e.target.value)}},r.a.createElement(nt.a,{value:"Main"},"en"===m?"Main":"Wpis"),r.a.createElement(nt.a,{value:"Chapter"},"en"===m?"Chapter":"Rozdzia\u0142"),r.a.createElement(nt.a,{value:"About"},"en"===m?"About":"O mnie")),r.a.createElement("div",null),"Chapter"===n?r.a.createElement(at,{setPostTitle:s}):r.a.createElement(r.a.Fragment,null),"Main"===n||"About"===n||u?r.a.createElement(ht,{contentTitle:u||n}):r.a.createElement(r.a.Fragment,null))},Et=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=localStorage.getItem("blognellaLang"),u=function(){ce().then((function(e){var t=e.data.posts;return l(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){u()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,null,n.map((function(e){return r.a.createElement(Ve.a,{key:e._id},r.a.createElement(Be.a,{primary:r.a.createElement(o.b,{to:{pathname:"/panel/posts/".concat(e._id),state:{myId:e._id}}}," ",e.title," ")}),r.a.createElement(He.a,null,r.a.createElement(Ke.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){se(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Post not deleted");u()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Xe.a,null))))}))),r.a.createElement(o.b,{to:"/panel/posts/add"},"en"===c?"Add Post":"Dodaj Wpis"))},vt=function(){return r.a.createElement(Et,null)},jt=Object(lt.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Ot={PaperProps:{style:{maxHeight:224,width:250}}};function yt(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var kt=Object(u.f)((function(e){var t=jt(),n=Object(ct.a)(),l=Object(a.useState)(e.post.content[0].text||""),c=Object(i.a)(l,2),o=c[0],u=c[1],s=Object(a.useState)(e.post.title||""),m=Object(i.a)(s,2),p=m[0],f=m[1],d=Object(a.useState)(e.post.tags||[]),g=Object(i.a)(d,2),h=g[0],b=g[1],E=Object(a.useState)([]),v=Object(i.a)(E,2),j=v[0],O=v[1],y=Object(a.useState)(new Date),k=Object(i.a)(y,2),w=k[0],S=k[1],P=Object(a.useState)(e.post.user),I=Object(i.a)(P,2),x=I[0],C=I[1],z=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){Ye().then((function(e){var t=e.data.tags;return O(t.map((function(e){return e.name})))})).catch((function(e){return console.log(e)}))}),[]);var L=function(){var t={date:w.toISOString(),tags:h,title:p,content:e.post.content[0]._id,_id:e.post._id,user:x};ie(t).then((function(e){if(200!==e.status)throw new Error("Error! Post not saved")})),e.history.push("/panel/posts")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===z?"Title":"Tytu\u0142",style:{margin:8},placeholder:"en"===z?"Please type in your post title here":"Prosz\u0119 wpisz tytu\u0142 wpisu",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement(rt.a,{initialValue:o,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code"},onChange:function(e){return function(e){u(e.target.getContent())}(e)}}),r.a.createElement(ne.a,{id:"standard-full-width",label:"Nick",style:{margin:8},placeholder:"en"===z?"Please type in your nick here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:x,onChange:function(e){return C(e.target.value)}}),r.a.createElement("div",null,"en"===z?"Date of publication":"Data publikacji"),r.a.createElement(pt.a,{onChange:function(e){return S(e)},value:w}),r.a.createElement("div",null,"en"===z?"Add tags to post":"Dodaj etykiety do wpisu"),r.a.createElement(tt.a,{labelId:"demo-mutiple-chip-label",multiple:!0,value:h,onChange:function(e){b(e.target.value)},input:r.a.createElement(ot.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(ut.a,{key:e,label:e,className:t.chip})})))},MenuProps:Ot},j.map((function(e){return r.a.createElement(nt.a,{key:e,value:e,style:yt(e,h,n)},e)}))),r.a.createElement("div",null),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){var t={text:o,title:e.contentTitle,_id:e.post.content[0]._id};st(t).then((function(e){if(200!==e.status)throw new Error("Error! Content not saved");L()}))}},"en"===z?"Save Post":"Zapisz post"))})),wt=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(),f=Object(i.a)(p,2),d=f[0],g=f[1],h=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){oe(e.match.params.id).then((function(e){var t=e.data.post,n=t.content[0].title,a="Main"===n||"About"===n?n:"Chapter";c(a),"Chapter"===a&&m(n),g(t)})).catch((function(e){return console.log(e)}))}),[]);var b="Main"===l||"About"===l?l:s;return(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Main"===l?"en"===h?"STORY":"WPIS":"About"===l?"en"===h?"ABOUT":"O MNIE":"en"===h?"CHAPTER":"ROZDZIA\u0141"),"Chapter"===l?r.a.createElement(at,{storyTitle:s,setPostTitle:m}):r.a.createElement(r.a.Fragment,null),("Main"===l||"About"===l||s)&&d?r.a.createElement(kt,{contentTitle:b,post:d}):r.a.createElement(r.a.Fragment,null)))})),St=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=localStorage.getItem("blognellaLang"),u=function(){G().then((function(e){var t=e.data.bookmarks;return l(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){u()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,null,n.map((function(e){return r.a.createElement(Ve.a,{key:e.title},r.a.createElement(Be.a,{primary:r.a.createElement(o.b,{to:{pathname:"/panel/bookmarks/".concat(e._id),state:{myId:e._id}}}," ",e.title," ")}),r.a.createElement(He.a,null,r.a.createElement(Ke.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){$(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! Bookmark not deleted");u()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Xe.a,null))))}))),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/panel/bookmarks/add"},"en"===c?"Add Bookmark":"Dodaj Zak\u0142adk\u0119")))},Pt=function(){return r.a.createElement(St,null)},It=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(""),f=Object(i.a)(p,2),d=f[0],g=f[1],h=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){ce().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title}));m(t)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{value:l,onChange:function(e){c(e.target.value)}},s.map((function(e){return r.a.createElement(nt.a,{key:e._id,value:e._id},e.title)}))),r.a.createElement("div",null),r.a.createElement(ne.a,{label:"en"===h?"Bookmark title":"Tytu\u0142 zak\u0142adki",style:{margin:8},placeholder:"en"===h?"Please type in your bookmark title here":"Prosz\u0119 wpisz tytu\u0142 zak\u0142adki",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return g(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){Q({title:d,post:l}),e.history.push("/panel/bookmarks")}},"en"===h?"Save Bookmark":"Zapisz Zak\u0142adk\u0119"))})),xt=function(){return r.a.createElement(It,null)},Ct=Object(u.f)((function(e){var t=Object(a.useState)(e.bookmark.post.length>0?e.bookmark.post[0]._id:""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(e.bookmark.title||""),f=Object(i.a)(p,2),d=f[0],g=f[1],h=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){ce().then((function(e){var t=e.data.posts.filter((function(e){return"Main"===e.content[0].title}));m(t)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{value:l,onChange:function(e){c(e.target.value)}},s.map((function(e){return r.a.createElement(nt.a,{key:e._id,value:e._id},e.title)}))),r.a.createElement("div",null),r.a.createElement(ne.a,{label:"en"===h?"Bookmark title":"Tytu\u0142 zakladki",style:{margin:8},placeholder:"en"===h?"Please type in your bookmark title here":"Prosz\u0119 wpisz tytu\u0142 zak\u0142adki",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return g(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){var t={_id:e.bookmark._id,title:d,post:l};X(t).then((function(e){if(200!==e.status)throw new Error("Error! Bookmark not saved")})),e.history.push("/panel/bookmarks")}},"en"===h?"Save Bookmark":"Zapisz Zak\u0142adk\u0119"))})),zt=Object(u.f)((function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),l=n[0],c=n[1];return Object(a.useEffect)((function(){q(e.match.params.id).then((function(e){var t=e.data.bookmark;c(t)})).catch((function(e){return console.log(e)}))}),[]),l?r.a.createElement(Ct,{bookmark:l}):r.a.createElement(r.a.Fragment,null)})),Lt=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=localStorage.getItem("blognellaLang"),u=function(){g().then((function(e){var t=e.data.users;return l(t)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){u()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,null,n.map((function(e){return r.a.createElement(Ve.a,{key:e.nick},r.a.createElement(Be.a,{primary:r.a.createElement(o.b,{to:{pathname:"/panel/users/".concat(e._id),state:{myId:e._id}}}," ",e.nick," ")}),r.a.createElement(He.a,null,r.a.createElement(Ke.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){v(e._id||"").then((function(e){if(200!==e.status)throw new Error("Error! User not deleted");u()})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(Xe.a,null))))}))),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/panel/users/add"},"en"===c?"Add User":"Dodaj u\u017cytkownika")))},_t=function(){return r.a.createElement(Lt,null)},Wt=["loggedUser","admin"],Ft=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(""),f=Object(i.a)(p,2),d=f[0],g=f[1],h=Object(a.useState)(""),E=Object(i.a)(h,2),v=E[0],j=E[1],O=Object(a.useState)(""),y=Object(i.a)(O,2),k=y[0],w=y[1],S=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{label:"Nick",style:{margin:8},placeholder:"en"===S?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return c(e.target.value)}}),r.a.createElement(ne.a,{label:"Login",style:{margin:8},placeholder:"en"===S?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value)}}),r.a.createElement(ne.a,{label:"en"===S?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===S?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return g(e.target.value)}}),r.a.createElement(tt.a,{value:v,onChange:function(e){j(e.target.value)}},Wt.map((function(e){return r.a.createElement(nt.a,{key:e,value:e},e)}))),r.a.createElement("div",null),r.a.createElement(ne.a,{label:"Email",style:{margin:8},placeholder:"en"===S?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return w(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){b({nick:l,login:s,password:d,role:v,email:k}),e.history.push("/panel/users")}},"en"===S?"Save User":"Zapisz U\u017cytkownika"))})),Tt=function(){return r.a.createElement(Ft,null)},Dt=["loggedUser","admin"],At=Object(u.f)((function(e){var t=Object(a.useState)(e.user.nick),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(e.user.login),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(e.user.password),f=Object(i.a)(p,2),d=f[0],g=f[1],h=Object(a.useState)(e.user.role),b=Object(i.a)(h,2),v=b[0],j=b[1],O=Object(a.useState)(e.user.email),y=Object(i.a)(O,2),k=y[0],w=y[1],S=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{label:"Nick",style:{margin:8},placeholder:"en"===S?"Please type in your nickname here":"Prosz\u0119 wpisz nick",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement(ne.a,{label:"Login",style:{margin:8},placeholder:"en"===S?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement(ne.a,{label:"en"===S?"Password":"Has\u0142o",style:{margin:8},placeholder:"en"===S?"Please type in your password here":"Prosz\u0119 wpisz swoje has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:d,onChange:function(e){return g(e.target.value)}}),r.a.createElement(tt.a,{value:v,onChange:function(e){j(e.target.value)}},Dt.map((function(e){return r.a.createElement(nt.a,{key:e,value:e},e)}))),r.a.createElement("div",null),r.a.createElement(ne.a,{label:"Email",style:{margin:8},placeholder:"en"===S?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:k,onChange:function(e){return w(e.target.value)}}),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){var t={_id:e.user._id,nick:l,login:s,password:d,role:v,email:k};E(t),e.history.push("/panel/users")}},"en"===S?"Save User":"Zapisz U\u017cytkownika"))})),Nt=Object(u.f)((function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),l=n[0],c=n[1];return Object(a.useEffect)((function(){h(e.match.params.id).then((function(e){var t=e.data.user;c(t)})).catch((function(e){return console.log(e)}))}),[]),l?r.a.createElement(At,{user:l}):r.a.createElement(r.a.Fragment,null)})),Mt=Object(u.f)((function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1],p=function(e){ce().then((function(t){var n=t.data.posts.filter((function(t){return t.content[0].title===e}));m(n||[])})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){oe(e.match.params.id).then((function(e){var t=e.data.post;JSON.stringify(t)!==JSON.stringify({})&&(c(t),p(t.title))})).catch((function(e){return console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,l?r.a.createElement(_e,{post:l,postChapters:s}):r.a.createElement(r.a.Fragment,null))})),Zt=function(){return r.a.createElement(Mt,null)},Ut=Object(u.f)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(""),f=Object(i.a)(p,2),d=f[0],h=f[1],b=localStorage.getItem("blognellaLang");return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null,r.a.createElement(Oe,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"en"===b?"Please type in your email here":"Prosz\u0119 wpisz sw\xf3j email",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return h(e.target.value)}})),r.a.createElement(Oe,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"Login",style:{margin:8},placeholder:"en"===b?"Please type in your login here":"Prosz\u0119 wpisz sw\xf3j login",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return c(e.target.value)}})),r.a.createElement(Oe,null,r.a.createElement(ne.a,{id:"standard-full-width",label:"en"===b?"New Password":"Nowe has\u0142o",style:{margin:8},placeholder:"en"===b?"Please type in your new password here":"Prosz\u0119 wpisz swoje nowe has\u0142o",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value)}})),r.a.createElement(ye,null,r.a.createElement("div",null),r.a.createElement(te.a,{variant:"contained",color:"primary",onClick:function(){g().then((function(t){var n=t.data.users.find((function(e){return e.login===l&&e.email===d}));n&&(!function(e){var t={_id:e._id,nick:e.nick,login:e.login,password:s,role:e.role,email:e.email};E(t)}(n),localStorage.setItem("blognellaId",n._id),e.history.push("/"))})).catch((function(e){return console.log(e)}))}},"en"===b?"Update Password":"Aktualizuj Has\u0142o"))))})),Rt=function(){return r.a.createElement(Ut,null)},Vt=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),l=n[0],c=n[1],u=localStorage.getItem("blognellaLang");Object(a.useEffect)((function(){ce().then((function(t){var n=t.data.posts.filter((function(t){return t.title===e.search||t.tags.includes(e.search)}));c(n)})).catch((function(e){return console.log(e)}))}),[e.search]);return 0===l.length?r.a.createElement("div",null,"en"===u?"There is no post that meets the expected criteria":"Nie ma wpis\xf3w spe\u0142niaj\u0105cych podane kryteria"):r.a.createElement(Je.a,null,l.map((function(e){return r.a.createElement(Ve.a,{key:e._id},r.a.createElement(Be.a,{primary:r.a.createElement(o.b,{to:{pathname:"/post/".concat(e._id)}}," ",e.title," ")}))})))},Bt=Object(u.f)((function(e){return e.location.state&&e.location.state.search?r.a.createElement(Vt,{search:e.location.state.search}):r.a.createElement("div",null,"Nothing to search")}));function Ht(){return r.a.createElement(o.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"}," ",r.a.createElement(he,{page:Fe})," "),r.a.createElement(u.a,{path:"/register"},r.a.createElement(he,{page:Re})),r.a.createElement(u.a,{path:"/login/forget"},r.a.createElement(he,{page:Rt})),r.a.createElement(u.a,{path:"/login"},r.a.createElement(he,{page:we})),r.a.createElement(u.a,{path:"/search"},r.a.createElement(he,{page:Bt})),r.a.createElement(u.a,{path:"/post/:id"},r.a.createElement(he,{page:Zt})),r.a.createElement(u.a,{path:"/panel/tags"},r.a.createElement(he,{page:et})),r.a.createElement(u.a,{path:"/panel/posts/add"},r.a.createElement(he,{page:bt})),r.a.createElement(u.a,{path:"/panel/posts/:id"},r.a.createElement(he,{page:wt})),r.a.createElement(u.a,{path:"/panel/posts"},r.a.createElement(he,{page:vt})),r.a.createElement(u.a,{path:"/panel/bookmarks/add"},r.a.createElement(he,{page:xt})),r.a.createElement(u.a,{path:"/panel/bookmarks/:id"},r.a.createElement(he,{page:zt})),r.a.createElement(u.a,{path:"/panel/bookmarks"},r.a.createElement(he,{page:Pt})),r.a.createElement(u.a,{path:"/panel/users/add"},r.a.createElement(he,{page:Tt})),r.a.createElement(u.a,{path:"/panel/users/:id"},r.a.createElement(he,{page:Nt})),r.a.createElement(u.a,{path:"/panel/users"},r.a.createElement(he,{page:_t}))))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ht,null)),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.147c201b.chunk.js.map